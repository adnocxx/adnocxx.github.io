!function(){"use strict";var e={},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}let i,r;function o(){if(r)return r;const e=document.head.getAttribute("data-info");return r=((/f:\s*([^;]+)/i.exec(e)||{})[1]||"").toLowerCase(),r}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){if(void 0!==n){const e=n.e,t={};n.e=function(i){return e(i).catch((function(e){const r=t.hasOwnProperty(i)?t[i]:2;if(1===r&&(n.p=n.p.replace("/assets.","/assets2.")),r<1)throw e;return new Promise((function(e){setTimeout((function(){t[i]=r-1,e(n.e(i))}),100)}))}))}}}(),function(){if(void 0!==n&&void 0!==n.tu){const e=n.tu;n.tu=function(t){return e(function(e){if("string"!=typeof e||"undefined"==typeof document)return e;const t=document.head.getAttribute("data-info");if(!(t.indexOf("ntp-afdh3t")>=0||t.indexOf("ntp-afdh3c")>=0))return e;const n="afdprotocol=";var i=document.cookie.split("; ").find((e=>0===e.indexOf(n)));if(i){const t=i.split("=");if(t[1])return e+(e.indexOf("?")<0?"?":"&")+n+t[1]}return e}(t))}}}();let s=new Map;const a=Object.freeze({set(e,t){return s.set(e,t),this},get:function(e,t){let n=s.get(e);return void 0===n&&t&&(n=t(),s.set(e,n)),n},clear(){s.clear()},delete:e=>s.delete(e),has:e=>s.has(e)});function c(){return!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv)}function l(e){let t,n=!1;const i=function(){return n||(n=!0,t=e()),t};return i.cache={clear:()=>{n=!1,t=void 0}},i}const u={bingHomepageMobile:"binghomepagemobile",outlookMobile:"OnOOutlookMobile",msnCopilot:"cp_msn_news",officeMobile:"OnOOfficeMobile",sapphire:"OnOStartApp",skype:"OnOSkype",freFullPage:"emmxFre",winWeatherApp:"weather-app-win",xiaomiApp:"xmweather-",launcher:"launcherntp",launcherInterests:"launcherInterests",swiftKey:"swiftKey",winMoneyApp:"finance-app-win"},d="superappdhp",h=["ios","android","ipados"],g="_ocidIsomorphicKey",p=()=>(a.get(g)||a.set(g,N("ocid").toLowerCase()),a.get(g)),f="_platformFlagKey",m="_hostAppNameKey",v="_clientTypeKey",w=()=>(a.get(f)||a.set(f,N("chpltfm")),a.get(f)),y=()=>{if(!a.get(m)){const e=w();a.set(m,e.toLowerCase().split("-")[0])}return a.get(m)},b=()=>{if(!a.get(v)){const e=w();a.set(v,e.toLowerCase().split("-")[1])}return a.get(v)};function S(){if(!c()||R())return!1;const e=window.sapphireWebViewBridge,t=window.webkit,n=e&&e.send,i=t&&t.messageHandlers&&t.messageHandlers.send&&t.messageHandlers.send.postMessage;return!(!n&&!i)}function C(){const e=w()&&"outlook"===y()&&h.includes(b()),t=p()===u.outlookMobile.toLowerCase();return e||t}function I(){const e=w()&&["office","union"].includes(y())&&h.includes(b()),t=p()===u.officeMobile.toLowerCase();return e||t}function A(){const e=p()===u.skype.toLowerCase()||"skype"===y();return c()&&(null===(t=window.skypeWebviewBridge)||void 0===t?void 0:t.isSkype)||e;var t}function k(){return!(!c()||R())&&(S()||p()===u.sapphire.toLowerCase()||p()===d.toLowerCase())}function T(){const e=N("edge");return("emmx"===y()||"1"===e)&&k()||"mmx"===p()}function E(){return"3rdp"===y()||p().startsWith(u.xiaomiApp)||R()}function P(){return[u.launcher.toLowerCase(),u.launcherInterests.toLowerCase()].includes(p())&&k()}function R(){return p().toLowerCase()===u.swiftKey.toLowerCase()||"swiftkey"==y().toLowerCase()}function L(){return-1!==window.location.href.indexOf("huawei")||-1!==window.location.href.indexOf("airfind")||-1!==window.location.href.indexOf("aloha")||"vivo"===p()&&E()}const D=l((()=>S()||A()||I()||C()||k()||p()===u.winWeatherApp.toLowerCase()||p()===u.winMoneyApp.toLowerCase()||T()||E()||P()||R()||L()||-1!==window.location.href.indexOf("metaos=true")));function N(e){try{return new URL(location.href).searchParams.get(e)||""}catch(e){return""}}function _(){var e,t;return(null===(e=window)||void 0===e||null===(e=e.__SSRUserConfigEarlyLog)||void 0===e?void 0:e.consistentMuid)||(null===(t=window)||void 0===t?void 0:t.__muid)||""}function M(e){try{return decodeURIComponent(e)}catch(e){}}let U,O;function x(e,t){if(!e)return null;if(t)return function(e){var t;const n=null===(t=document.cookie)||void 0===t?void 0:t.match(`\\b${e}=([^;]*)`);return n?M(n[1]):null}(e);if(!U){const e="undefined"!=typeof document&&document.cookie.split("; ");U={};const t=e&&e.length;for(let n=0;n<t;n++){const t=e[n].indexOf("=");U[e[n].slice(0,t).toLocaleLowerCase()]=M(e[n].slice(t+1))}}const n=e.toLocaleLowerCase();return U[n]||null}var j;!function(e){e[e.Alert=0]="Alert",e[e.Deprecated=1]="Deprecated",e[e.HighImpact=2]="HighImpact",e[e.Critical=3]="Critical"}(j||(j={}));const F=new class{constructor(e=20){this.maxLength=e,this.list=[]}push(e){this.list.push(e),this.list.length>this.maxLength&&this.list.shift()}get data(){return this.list}};function B(e,t,n,r=j.Alert,s,a,l){try{const u=function(){if(!i){const e=document.head.getAttribute("data-client-settings");e&&(i=JSON.parse(e))}return i}(),d=o(),h=function(e){if(e){const{pcsInfo:t,pageGenTime:n}=e,i=new Date(n).getTime(),r=!t||["prod","prod-ssr","prod-ssrntp"].includes(t.env);O=r?"browser.events.data.msn.com":"events-sandbox.data.msn.com";return{cors:"true","content-type":"application/x-json-stream","client-id":"NO_AUTH","client-version":"1DS-Web-JS-2.2.2",apikey:r?"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279":"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028","upload-time":i,w:"0",anoncknm:"app_anon"}}return null}(u);let g="";h&&h.apikey&&""!==h.apikey&&(g=function(e){if(e){const t=e.indexOf("-");if(t>0)return e.substring(0,t)}return""}(h.apikey));const p=function(e,t,n,i,r,o,s=j.Alert,a=""){if(n){r=r||{};const{apptype:u,audienceMode:d,pagetype:h,pageGenTime:g,bundleInfo:p,deviceFormFactor:f="",fd_muid:m,os:v}=n;r.pageGenTime=g,r.build=p&&p.v,r.appType=u;const w=function(e,t,n){const i=n&&"phone"===n.toLowerCase(),r=t&&"enterprise"===t;let o="Edge";R()?o="swiftKey":P()?o="Launcher":function(){var e;if(!c())return!1;const t=document.head.dataset.clientSettings||(null===(e=document.getElementsByClassName("peregrine-widget-settings")[0])||void 0===e?void 0:e.getAttribute("data-client-settings"));if(t){const e=JSON.parse(t);return e&&e.pagetype&&"bingHomepageMobile"===e.pagetype}return!1}()&&(o="bingHomepageMobile");return{bingHomepage:"binghomepage",mmx:"emmx",edge:"spartan",edgeChromium:r?"entnews":"anaheim",hybrid:"spartan",hub:i?"prime_mobile":"prime",microsoftNews:"msnews",office:"entnews",views:i?"prime_mobile":"prime",homePage:i?"prime_mobile":"prime",windowsShell:"windowsshell",edgeMobile:o}[e]}(u,d,f),y=w||u,b=document.getElementsByTagName("html")[0].getAttribute("lang");let S,C="",I="muid";try{if("edgeChromium"===u&&"object"==typeof window&&window.location&&window.location.search){const e=new URLSearchParams(window.location.search);S=e.has("startpage")?"msedgdhp":"msedgntp","enterprise"===d?S="entnewsntp":"xbox"===v&&(S="xboxntp")}window&&window.getCookieConsentRequired&&"function"==typeof window.getCookieConsentRequired&&window.getCookieConsentRequired()||(C=_()||x("muid"))}catch{}C||(C=n.aid,I="aid");const A={name:"MS.News.Web.AppError",time:g,ver:"4.0",iKey:`o:${i}`,data:{baseData:{},baseType:"MS.News.Web.Base",page:{name:"default",product:y,type:q(h),content:H[u]??{category:"standaloneError"},ocid:S},browser:{clientId:C,clientIdType:I},flight:{id:o,tmpl:a},request:{activityId:n.aid,requestId:n.aid,afdMuid:m},locale:{mkt:b},extSchema:{id:e,severity:s,pb:r,message:t}}};var l;if(C&&"muid"===I)A.ext={...null==A?void 0:A.ext,user:{...null==A||null===(l=A.ext)||void 0===l?void 0:l.user,localId:`t:${C}`}};return"object"==typeof window&&(window.isSSREnabled&&(A.data.flight.tmpl+=";ssr-enabled:1"),window.isSSRCompleted&&(A.data.flight.tmpl+=";ssr-completed:1")),A?JSON.stringify(A):null}return null}(t,e,u,g,n,d,r,l);if(a&&!function(e){if(null==e)return!1;return e.startsWith("1")||e.startsWith("2")||e.startsWith("3")||e.startsWith("4")}(null==u?void 0:u.aid))return console.error(p),void console.error(`This App error Id: ${t} will not be sent due to app error sampling!`);if(h&&p){console.error(p),F.push(p);const e="https://"+O+"/OneCollector/1.0"+function(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}(h);if(s&&!performance.getEntriesByType("visibility-state").some((e=>"visible"===e.name))){const t=()=>{"visible"===document.visibilityState&&navigator.sendBeacon(e,p)};document.addEventListener("visibilitychange",t,{once:!0})}else navigator.sendBeacon(e,p)}}catch{}}const H={homePage:{vertical:"homepage",category:"",id:"",domainId:"13041",title:"undefined"!=typeof document?document.title:""}};function q(e){let t=e;switch(e){case"windowsshellhp":t="dhp";break;case"video":t="watch";break;case"EdgeMobile":t=T()?"ntp":"dhp"}return t}class W extends HTMLElement{connectedCallback(){var e;if((null===(e=this.previousSibling)||void 0===e?void 0:e.nodeType)!==Node.COMMENT_NODE)return;const t=this.previousSibling.data;if(""!==t)try{this.jsonData=JSON.parse(t)}catch(e){B("Error parsing JSON from Comment Node",34029,{data:t,error:null==e?void 0:e.message,tagName:this.tagName})}finally{this.previousSibling.data=""}}}(()=>{var e;customElements.get("fast-ssr-style")||customElements.define("fast-ssr-style",(e=class e extends W{connectedCallback(){super.connectedCallback();const t=this.getAttribute("style-ids"),n=this.getRootNode();t&&(this.addToCache(),t.split(",").forEach((t=>{const i=e.styleCache.get(t);try{n.adoptedStyleSheets.push(i)}catch(e){B("Error setting adoptedStyleSheets",34030,{id:t,sheet:i,error:null==e?void 0:e.message})}}))),this.remove()}addToCache(){this.jsonData&&Object.keys(this.jsonData).forEach((t=>{const n=this.createStyleSheet(t);n&&e.styleCache.set(t,n)}))}createStyleSheet(e){const t=new CSSStyleSheet,n=this.jsonData[e];try{return t.replace(n),t}catch(t){B("Error creating CSSStyleSheet",34030,{key:e,styles:n,error:null==t?void 0:t.message})}}},e.styleCache=new Map,e));customElements.get("ttsr-marker")||customElements.define("ttsr-marker",class extends HTMLElement{constructor(e=Math.round(performance.now())){super(),this.initTime=e}connectedCallback(){const e=this.dataset.name;e&&(window.markTTSR(e,this.initTime),"true"===this.dataset.emitEvent&&window.dispatchEvent(new Event(e)),this.remove())}}),customElements.get("ssr-data-from-template")||customElements.define("ssr-data-from-template",class extends HTMLElement{connectedCallback(){const e=this.dataset.d;if(e)try{const t=JSON.parse(e);if(!t)return;Object.keys(t).forEach((e=>{window[e]=t[e]}))}catch(t){B("Error parsing JSON from SSRDataFromTemplate component",34029,{data:e,error:null==t?void 0:t.message,tagName:this.tagName})}finally{this.remove()}}}),customElements.get("ssr-data")||customElements.define("ssr-data",class extends W{connectedCallback(){super.connectedCallback(),this.jsonData&&(Object.keys(this.jsonData).forEach((e=>{window[e]=this.jsonData[e]})),this.remove())}}),customElements.get("ssr-sugi-data")||customElements.define("ssr-sugi-data",class extends W{connectedCallback(){if(super.connectedCallback(),!this.jsonData)return;const e=this.getRootNode().host;Object.keys(this.jsonData).forEach((t=>{e[t]=this.jsonData[t]})),this.remove()}}),customElements.get("ssr-func-exp")||customElements.define("ssr-func-exp",class extends W{connectedCallback(){super.connectedCallback();const e=window[this.dataset.fnName];e&&"function"==typeof e&&e(this.jsonData),this.remove()}})})();const V="https://assets.msn.com",$="https://assets.msn.cn";var z;!function(e){e.Click="click",e.Ready="ready",e.Play="play",e.Pause="pause",e.Ended="ended",e.Telemetry="telemetry",e.VolumeChange="volumechange",e.TimeUpdate="timeupdate",e.Error="error",e.CanPlay="canplay",e.CanPlayThrough="canplaythrough"}(z||(z={}));const G="x-ms-flightId";var K;!function(e){e[e.AdBuffering=1]="AdBuffering",e[e.ContentBuffering=2]="ContentBuffering",e[e.AdError=10]="AdError",e[e.AdPlayStarted=11]="AdPlayStarted",e[e.AdPlayCompleted=13]="AdPlayCompleted",e[e.AdSkipped=15]="AdSkipped",e[e.AdTimeout=16]="AdTimeout",e[e.AdPause=17]="AdPause",e[e.AdResume=18]="AdResume",e[e.ContentError=20]="ContentError",e[e.ContentStart=21]="ContentStart",e[e.ContentContinue=22]="ContentContinue",e[e.ContentComplete=23]="ContentComplete",e[e.CC=30]="CC",e[e.Pause=31]="Pause",e[e.Seek=32]="Seek",e[e.Mute=33]="Mute",e[e.FullScreenEnter=34]="FullScreenEnter",e[e.Info=35]="Info",e[e.VideoQuality=36]="VideoQuality",e[e.Resume=37]="Resume",e[e.FullScreenExit=38]="FullScreenExit",e[e.Replay=39]="Replay",e[e.Unmute=40]="Unmute",e[e.ContentImpression3PP=41]="ContentImpression3PP",e[e.Facebook=51]="Facebook",e[e.Twitter=52]="Twitter",e[e.Email=53]="Email",e[e.CommonPlayerImpression=61]="CommonPlayerImpression",e[e.EndslateVideos=64]="EndslateVideos",e[e.EndslateContinuous=65]="EndslateContinuous",e[e.EndslateCancelCountdown=66]="EndslateCancelCountdown",e[e.EndslateShown=67]="EndslateShown",e[e.PlayerStarting=90]="PlayerStarting",e[e.AdLoading=91]="AdLoading",e[e.AdLoaded=92]="AdLoaded",e[e.VideoLoading=93]="VideoLoading",e[e.ContentOpen=101]="ContentOpen",e[e.Content25Percent=102]="Content25Percent",e[e.Content50Percent=103]="Content50Percent",e[e.Content75Percent=104]="Content75Percent",e[e.Canplay=105]="Canplay",e[e.Canplaythrough=106]="Canplaythrough"}(K||(K={}));function J(e,t={bindMethod:!0}){return"object"==typeof n.g&&n.g.TEST_ENV&&!n.g.TEST_SINGLETONPROXY||c()?e.getInstance():new Proxy(e,{get(e,n,i){const r=e.getInstance(),o=Reflect.get(r,n,r);return t.bindMethod&&"function"==typeof o?o.bind(r):o},set(e,t,n,i){const r=e.getInstance();return Reflect.set(r,t,n,r)}})}const Q="__RequestDataInstance__";class Y{constructor(e,t){if(this.url=new URL(e.href),this.innerHeight=e.innerHeight,this.devicePixelRatio=e.devicePixelRatio,this.canUseCssGrid=e.canUseCssGrid,this.requestId=e.requestId,this.cookie=e.cookie,this.referer=e.referer,this.userAgent=e.userAgent,this.clientData=e.clientData,this.oneServiceHeaders=function(e){try{if(e)return JSON.parse(e)}catch(e){}}(e.oneServiceHeaders)||{},this.isPssrMode=t,t){const e=Z("OSATE",this.cookie),t=!!e&&"1"===e,n=Z("OSAT",this.cookie);if(t&&n||!e&&!n)return this.msalAuthReady=!0,void(n&&(this.oneServiceHeaders.Authorization=`Bearer ${n}`));this.msalAuthReady=!1,this.pssrRejectedReason=e&&!t?"interactiveLogin":e&&!n?"missOSAT":"missOSATE"}}static getInstance(){const e=a.get(Q);return e||(n.g.TEST_ENV?X({href:"http://localhost:8080/",innerHeight:768,devicePixelRatio:1,canUseCssGrid:!1,requestId:"0",cookie:"",userAgent:"",referer:"",oneServiceHeaders:""}):X({href:"http://localhost:8080/",innerHeight:0,devicePixelRatio:0,canUseCssGrid:!1,requestId:"0",cookie:"",userAgent:"",referer:"",oneServiceHeaders:""}))}static resetInstance(e,t=!1){const n=new Y(e,t);return a.set(Q,n),n}}function Z(e,t){if(t&&e){const n=new RegExp("\\b"+e+"\\s*=\\s*([^;]*)","i").exec(t);return n&&n.length>1?n[1]:null}return null}const X=Y.resetInstance,ee=()=>Y.getInstance();function te(){return c()?window.location.href:ee().url.href}function ne(){return c()?window.location.hostname:ee().url.hostname}function ie(){return c()?window.location.origin:ee().url.origin}function re(){return c()?window.location.search:ee().url.search}function oe(){return c()?window.document.cookie:ee().cookie}function se(e){if(!c())throw new Error("getDocumentElementsByTagName is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementsByTagName(e)}const ae="html",ce="head",le="data-client-settings",ue="data-service-url";var de,he;!function(e){e.Presentation="presentation"}(de||(de={})),function(e){e.Unknown="Unknown",e.Portrait="Portrait",e.Landscape="Landscape"}(he||(he={}));const ge="pageVersions";var pe,fe;!function(e){e[e.Undefined=0]="Undefined",e[e.Basic=1]="Basic",e[e.Advanced=2]="Advanced",e[e.Premium=3]="Premium"}(pe||(pe={})),function(e){e.Init="init",e.Config="config",e.Targeted="targeted",e.Sticky="sticky",e.NoSticky="no_sticky",e.Admin="admin",e.Forced="forced",e.Manual="manual"}(fe||(fe={}));new Set(["winp0dash","winp1taskbar","winp1taskbarent","winp1taskbardirect","winp1taskbardirectent","winp1taskbarent","winp2juntaskbar","winp2juntaskbarent","winp2","winp2ent","winp2fp","winp2fpent","winp2fptaskbar","winp2fptaskbarent","winp2fptaskbarhover","winp2fptaskbarhoverent","winp2widget","winp2widgetent"]);const me=new Set(["finance-app-win","weather-app-win","winpstoreapp"]),ve=(new Set(["msedgdhp","msedgdhphdr","msedgntphdr","msedgntp","msedgdhp","entnewsntp"]),new Set(["hpmsn"]));new Set(["chromentpnews"]);function we(e,t=!1){if(e){if(t&&e.display)return e.display;if(e.content)return e.content}return e}function ye(e){return e.language&&e.market&&(e.language+"-"+(e.script?e.script+"-":"")+e.market).toLowerCase()||""}function be(e){var t;if(!e||!e.startsWith("f:"))return;const n=(e.match(/f:\s*([^;]+)/i)||[])[1];return n?null===(t=n.toLowerCase().split(","))||void 0===t?void 0:t.sort():[]}var Se="object"==typeof global&&global&&global.Object===Object&&global,Ce="object"==typeof self&&self&&self.Object===Object&&self,Ie=Se||Ce||Function("return this")(),Ae=Ie.Symbol,ke=Object.prototype,Te=ke.hasOwnProperty,Ee=ke.toString,Pe=Ae?Ae.toStringTag:void 0;var Re=function(e){var t=Te.call(e,Pe),n=e[Pe];try{e[Pe]=void 0;var i=!0}catch(e){}var r=Ee.call(e);return i&&(t?e[Pe]=n:delete e[Pe]),r},Le=Object.prototype.toString;var De=function(e){return Le.call(e)},Ne=Ae?Ae.toStringTag:void 0;var _e=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ne&&Ne in Object(e)?Re(e):De(e)},Me=Array.isArray;var Ue=function(e){return null!=e&&"object"==typeof e};var Oe=function(e){return"string"==typeof e||!Me(e)&&Ue(e)&&"[object String]"==_e(e)},xe=/\s/;var je=function(e){for(var t=e.length;t--&&xe.test(e.charAt(t)););return t},Fe=/^\s+/;var Be=function(e){return e?e.slice(0,je(e)+1).replace(Fe,""):e};var He=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var qe=function(e){return"symbol"==typeof e||Ue(e)&&"[object Symbol]"==_e(e)},We=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,$e=/^0o[0-7]+$/i,ze=parseInt;var Ge,Ke=function(e){if("number"==typeof e)return e;if(qe(e))return NaN;if(He(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=He(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Be(e);var n=Ve.test(e);return n||$e.test(e)?ze(e.slice(2),n?2:8):We.test(e)?NaN:+e};!function(e){function t(e){return null!=e}e.isNotNullOrUndefined=t,e.isDefined=function(e){return void 0!==e},e.isKeyValuePair=function(t,n,i){return e.isNonNullObject(t)&&n(t.key)&&i(t.value)},e.isNonNullObject=function(e){return e&&"object"==typeof e},e.isNotNull=function(e){return null!==e},e.isNullOrWhiteSpace=function(e){return!Oe(e)||""===e.trim()},e.toNumber=function(e,t=-1){if(!e)return t;const n=Ke(e);return isNaN(n)?t:n},e.arrayHasData=function(e){return!!t(e)&&(e.constructor===Array&&e.length>0)},e.stringHasData=function(e){return Oe(e)&&e.trim().length>0},e.objectToString=function e(t){let n="",i=!0;if("object"!=typeof t)return n;for(const r in t)"object"==typeof t[r]?n+=i?`${e(t[r])}`:`-${e(t[r])}`:n+=i?`${t[r]}`:`-${t[r]}`,i=!1;return n},e.removeHyphens=function(e){if(e)return e.replace(/-/g,"")}}(Ge||(Ge={}));var Je=function(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1};var Qe=function(){this.__data__=[],this.size=0};var Ye=function(e,t){return e===t||e!=e&&t!=t};var Ze=function(e,t){for(var n=e.length;n--;)if(Ye(e[n][0],t))return n;return-1},Xe=Array.prototype.splice;var et=function(e){var t=this.__data__,n=Ze(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)};var tt=function(e){var t=this.__data__,n=Ze(t,e);return n<0?void 0:t[n][1]};var nt=function(e){return Ze(this.__data__,e)>-1};var it=function(e,t){var n=this.__data__,i=Ze(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function rt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}rt.prototype.clear=Qe,rt.prototype.delete=et,rt.prototype.get=tt,rt.prototype.has=nt,rt.prototype.set=it;var ot=rt;var st=function(){this.__data__=new ot,this.size=0};var at=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ct=function(e){return this.__data__.get(e)};var lt=function(e){return this.__data__.has(e)};var ut,dt=function(e){if(!He(e))return!1;var t=_e(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ht=Ie["__core-js_shared__"],gt=(ut=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||""))?"Symbol(src)_1."+ut:"";var pt=function(e){return!!gt&&gt in e},ft=Function.prototype.toString;var mt=function(e){if(null!=e){try{return ft.call(e)}catch(e){}try{return e+""}catch(e){}}return""},vt=/^\[object .+?Constructor\]$/,wt=Function.prototype,yt=Object.prototype,bt=wt.toString,St=yt.hasOwnProperty,Ct=RegExp("^"+bt.call(St).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var It=function(e){return!(!He(e)||pt(e))&&(dt(e)?Ct:vt).test(mt(e))};var At=function(e,t){return null==e?void 0:e[t]};var kt=function(e,t){var n=At(e,t);return It(n)?n:void 0},Tt=kt(Ie,"Map"),Et=kt(Object,"create");var Pt=function(){this.__data__=Et?Et(null):{},this.size=0};var Rt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Lt=Object.prototype.hasOwnProperty;var Dt=function(e){var t=this.__data__;if(Et){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Lt.call(t,e)?t[e]:void 0},Nt=Object.prototype.hasOwnProperty;var _t=function(e){var t=this.__data__;return Et?void 0!==t[e]:Nt.call(t,e)};var Mt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Et&&void 0===t?"__lodash_hash_undefined__":t,this};function Ut(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ut.prototype.clear=Pt,Ut.prototype.delete=Rt,Ut.prototype.get=Dt,Ut.prototype.has=_t,Ut.prototype.set=Mt;var Ot=Ut;var xt=function(){this.size=0,this.__data__={hash:new Ot,map:new(Tt||ot),string:new Ot}};var jt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ft=function(e,t){var n=e.__data__;return jt(t)?n["string"==typeof t?"string":"hash"]:n.map};var Bt=function(e){var t=Ft(this,e).delete(e);return this.size-=t?1:0,t};var Ht=function(e){return Ft(this,e).get(e)};var qt=function(e){return Ft(this,e).has(e)};var Wt=function(e,t){var n=Ft(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function Vt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Vt.prototype.clear=xt,Vt.prototype.delete=Bt,Vt.prototype.get=Ht,Vt.prototype.has=qt,Vt.prototype.set=Wt;var $t=Vt;var zt=function(e,t){var n=this.__data__;if(n instanceof ot){var i=n.__data__;if(!Tt||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new $t(i)}return n.set(e,t),this.size=n.size,this};function Gt(e){var t=this.__data__=new ot(e);this.size=t.size}Gt.prototype.clear=st,Gt.prototype.delete=at,Gt.prototype.get=ct,Gt.prototype.has=lt,Gt.prototype.set=zt;var Kt=Gt;var Jt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Qt=function(e){return this.__data__.has(e)};function Yt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $t;++t<n;)this.add(e[t])}Yt.prototype.add=Yt.prototype.push=Jt,Yt.prototype.has=Qt;var Zt=Yt;var Xt=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1};var en=function(e,t){return e.has(t)};var tn=function(e,t,n,i,r,o){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var d=-1,h=!0,g=2&n?new Zt:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var p=e[d],f=t[d];if(i)var m=s?i(f,p,d,t,e,o):i(p,f,d,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(g){if(!Xt(t,(function(e,t){if(!en(g,t)&&(p===e||r(p,e,n,i,o)))return g.push(t)}))){h=!1;break}}else if(p!==f&&!r(p,f,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h},nn=Ie.Uint8Array;var rn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n};var on=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},sn=Ae?Ae.prototype:void 0,an=sn?sn.valueOf:void 0;var cn=function(e,t,n,i,r,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new nn(e),new nn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ye(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=rn;case"[object Set]":var c=1&i;if(a||(a=on),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;i|=2,s.set(e,t);var u=tn(a(e),a(t),i,r,o,s);return s.delete(e),u;case"[object Symbol]":if(an)return an.call(e)==an.call(t)}return!1};var ln=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e};var un=function(e,t,n){var i=t(e);return Me(e)?i:ln(i,n(e))};var dn=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o};var hn=function(){return[]},gn=Object.prototype.propertyIsEnumerable,pn=Object.getOwnPropertySymbols,fn=pn?function(e){return null==e?[]:(e=Object(e),dn(pn(e),(function(t){return gn.call(e,t)})))}:hn;var mn=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i};var vn=function(e){return Ue(e)&&"[object Arguments]"==_e(e)},wn=Object.prototype,yn=wn.hasOwnProperty,bn=wn.propertyIsEnumerable,Sn=vn(function(){return arguments}())?vn:function(e){return Ue(e)&&yn.call(e,"callee")&&!bn.call(e,"callee")},Cn=Sn;var In=function(){return!1},An="object"==typeof exports&&exports&&!exports.nodeType&&exports,kn=An&&"object"==typeof module&&module&&!module.nodeType&&module,Tn=kn&&kn.exports===An?Ie.Buffer:void 0,En=(Tn?Tn.isBuffer:void 0)||In,Pn=/^(?:0|[1-9]\d*)$/;var Rn=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Pn.test(e))&&e>-1&&e%1==0&&e<t};var Ln=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Dn={};Dn["[object Float32Array]"]=Dn["[object Float64Array]"]=Dn["[object Int8Array]"]=Dn["[object Int16Array]"]=Dn["[object Int32Array]"]=Dn["[object Uint8Array]"]=Dn["[object Uint8ClampedArray]"]=Dn["[object Uint16Array]"]=Dn["[object Uint32Array]"]=!0,Dn["[object Arguments]"]=Dn["[object Array]"]=Dn["[object ArrayBuffer]"]=Dn["[object Boolean]"]=Dn["[object DataView]"]=Dn["[object Date]"]=Dn["[object Error]"]=Dn["[object Function]"]=Dn["[object Map]"]=Dn["[object Number]"]=Dn["[object Object]"]=Dn["[object RegExp]"]=Dn["[object Set]"]=Dn["[object String]"]=Dn["[object WeakMap]"]=!1;var Nn=function(e){return Ue(e)&&Ln(e.length)&&!!Dn[_e(e)]};var _n=function(e){return function(t){return e(t)}},Mn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Un=Mn&&"object"==typeof module&&module&&!module.nodeType&&module,On=Un&&Un.exports===Mn&&Se.process,xn=function(){try{var e=Un&&Un.require&&Un.require("util").types;return e||On&&On.binding&&On.binding("util")}catch(e){}}(),jn=xn&&xn.isTypedArray,Fn=jn?_n(jn):Nn,Bn=Object.prototype.hasOwnProperty;var Hn=function(e,t){var n=Me(e),i=!n&&Cn(e),r=!n&&!i&&En(e),o=!n&&!i&&!r&&Fn(e),s=n||i||r||o,a=s?mn(e.length,String):[],c=a.length;for(var l in e)!t&&!Bn.call(e,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Rn(l,c))||a.push(l);return a},qn=Object.prototype;var Wn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||qn)};var Vn=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),$n=Object.prototype.hasOwnProperty;var zn=function(e){if(!Wn(e))return Vn(e);var t=[];for(var n in Object(e))$n.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Gn=function(e){return null!=e&&Ln(e.length)&&!dt(e)};var Kn=function(e){return Gn(e)?Hn(e):zn(e)};var Jn=function(e){return un(e,Kn,fn)},Qn=Object.prototype.hasOwnProperty;var Yn=function(e,t,n,i,r,o){var s=1&n,a=Jn(e),c=a.length;if(c!=Jn(t).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in t:Qn.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var g=!0;o.set(e,t),o.set(t,e);for(var p=s;++l<c;){var f=e[u=a[l]],m=t[u];if(i)var v=s?i(m,f,u,t,e,o):i(f,m,u,e,t,o);if(!(void 0===v?f===m||r(f,m,n,i,o):v)){g=!1;break}p||(p="constructor"==u)}if(g&&!p){var w=e.constructor,y=t.constructor;w==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof y&&y instanceof y||(g=!1)}return o.delete(e),o.delete(t),g},Zn=kt(Ie,"DataView"),Xn=kt(Ie,"Promise"),ei=kt(Ie,"Set"),ti=kt(Ie,"WeakMap"),ni="[object Map]",ii="[object Promise]",ri="[object Set]",oi="[object WeakMap]",si="[object DataView]",ai=mt(Zn),ci=mt(Tt),li=mt(Xn),ui=mt(ei),di=mt(ti),hi=_e;(Zn&&hi(new Zn(new ArrayBuffer(1)))!=si||Tt&&hi(new Tt)!=ni||Xn&&hi(Xn.resolve())!=ii||ei&&hi(new ei)!=ri||ti&&hi(new ti)!=oi)&&(hi=function(e){var t=_e(e),n="[object Object]"==t?e.constructor:void 0,i=n?mt(n):"";if(i)switch(i){case ai:return si;case ci:return ni;case li:return ii;case ui:return ri;case di:return oi}return t});var gi=hi,pi="[object Arguments]",fi="[object Array]",mi="[object Object]",vi=Object.prototype.hasOwnProperty;var wi=function(e,t,n,i,r,o){var s=Me(e),a=Me(t),c=s?fi:gi(e),l=a?fi:gi(t),u=(c=c==pi?mi:c)==mi,d=(l=l==pi?mi:l)==mi,h=c==l;if(h&&En(e)){if(!En(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Kt),s||Fn(e)?tn(e,t,n,i,r,o):cn(e,t,c,n,i,r,o);if(!(1&n)){var g=u&&vi.call(e,"__wrapped__"),p=d&&vi.call(t,"__wrapped__");if(g||p){var f=g?e.value():e,m=p?t.value():t;return o||(o=new Kt),r(f,m,n,i,o)}}return!!h&&(o||(o=new Kt),Yn(e,t,n,i,r,o))};var yi=function e(t,n,i,r,o){return t===n||(null==t||null==n||!Ue(t)&&!Ue(n)?t!=t&&n!=n:wi(t,n,i,r,e,o))};var bi=function(e,t,n,i){var r=n.length,o=r,s=!i;if(null==e)return!o;for(e=Object(e);r--;){var a=n[r];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){var c=(a=n[r])[0],l=e[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Kt;if(i)var h=i(l,u,c,e,t,d);if(!(void 0===h?yi(u,l,3,i,d):h))return!1}}return!0};var Si=function(e){return e==e&&!He(e)};var Ci=function(e){for(var t=Kn(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Si(r)]}return t};var Ii=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Ai=function(e){var t=Ci(e);return 1==t.length&&t[0][2]?Ii(t[0][0],t[0][1]):function(n){return n===e||bi(n,e,t)}},ki=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ti=/^\w*$/;var Ei=function(e,t){if(Me(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!qe(e))||(Ti.test(e)||!ki.test(e)||null!=t&&e in Object(t))};function Pi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Pi.Cache||$t),n}Pi.Cache=$t;var Ri=Pi;var Li=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Di=/\\(\\)?/g,Ni=function(e){var t=Ri(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Li,(function(e,n,i,r){t.push(i?r.replace(Di,"$1"):n||e)})),t}));var _i=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r},Mi=Ae?Ae.prototype:void 0,Ui=Mi?Mi.toString:void 0;var Oi=function e(t){if("string"==typeof t)return t;if(Me(t))return _i(t,e)+"";if(qe(t))return Ui?Ui.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var xi=function(e){return null==e?"":Oi(e)};var ji=function(e,t){return Me(e)?e:Ei(e,t)?[e]:Ni(xi(e))};var Fi=function(e){if("string"==typeof e||qe(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Bi=function(e,t){for(var n=0,i=(t=ji(t,e)).length;null!=e&&n<i;)e=e[Fi(t[n++])];return n&&n==i?e:void 0};var Hi=function(e,t,n){var i=null==e?void 0:Bi(e,t);return void 0===i?n:i};var qi=function(e,t){return null!=e&&t in Object(e)};var Wi=function(e,t,n){for(var i=-1,r=(t=ji(t,e)).length,o=!1;++i<r;){var s=Fi(t[i]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Ln(r)&&Rn(s,r)&&(Me(e)||Cn(e))};var Vi=function(e,t){return null!=e&&Wi(e,t,qi)};var $i=function(e,t){return Ei(e)&&Si(t)?Ii(Fi(e),t):function(n){var i=Hi(n,e);return void 0===i&&i===t?Vi(n,e):yi(t,i,3)}};var zi=function(e){return e};var Gi=function(e){return function(t){return null==t?void 0:t[e]}};var Ki=function(e){return function(t){return Bi(t,e)}};var Ji=function(e){return Ei(e)?Gi(Fi(e)):Ki(e)};var Qi=function(e){return"function"==typeof e?e:null==e?zi:"object"==typeof e?Me(e)?$i(e[0],e[1]):Ai(e):Ji(e)},Yi=1/0;var Zi=function(e){return e?(e=Ke(e))===Yi||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var Xi=function(e){var t=Zi(e),n=t%1;return t==t?n?t-n:t:0},er=Math.max;var tr=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Xi(n);return r<0&&(r=er(i+r,0)),Je(e,Qi(t,3),r)},nr=Object.prototype.hasOwnProperty;var ir=function(e){if(null==e)return!0;if(Gn(e)&&(Me(e)||"string"==typeof e||"function"==typeof e.splice||En(e)||Fn(e)||Cn(e)))return!e.length;var t=gi(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Wn(e))return!zn(e).length;for(var n in e)if(nr.call(e,n))return!1;return!0};var rr=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o};var or=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:rr(e,t,n)};var sr=function(e){return e!=e};var ar=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1};var cr=function(e,t,n){return t==t?ar(e,t,n):Je(e,sr,n)};var lr=function(e,t){for(var n=e.length;n--&&cr(t,e[n],0)>-1;);return n};var ur=function(e){return e.split("")},dr=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var hr=function(e){return dr.test(e)},gr="\\ud800-\\udfff",pr="["+gr+"]",fr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",mr="\\ud83c[\\udffb-\\udfff]",vr="[^"+gr+"]",wr="(?:\\ud83c[\\udde6-\\uddff]){2}",yr="[\\ud800-\\udbff][\\udc00-\\udfff]",br="(?:"+fr+"|"+mr+")"+"?",Sr="[\\ufe0e\\ufe0f]?",Cr=Sr+br+("(?:\\u200d(?:"+[vr,wr,yr].join("|")+")"+Sr+br+")*"),Ir="(?:"+[vr+fr+"?",fr,wr,yr,pr].join("|")+")",Ar=RegExp(mr+"(?="+mr+")|"+Ir+Cr,"g");var kr=function(e){return e.match(Ar)||[]};var Tr=function(e){return hr(e)?kr(e):ur(e)};var Er=function(e,t,n){if((e=xi(e))&&(n||void 0===t))return e.slice(0,je(e)+1);if(!e||!(t=Oi(t)))return e;var i=Tr(e),r=lr(i,Tr(t))+1;return or(i,0,r).join("")};var Pr=function(e,t){for(var n=-1,i=e.length;++n<i&&cr(t,e[n],0)>-1;);return n},Rr=/^\s+/;var Lr,Dr=function(e,t,n){if((e=xi(e))&&(n||void 0===t))return e.replace(Rr,"");if(!e||!(t=Oi(t)))return e;var i=Tr(e),r=Pr(i,Tr(t));return or(i,r).join("")};function Nr(e){try{if(e)return JSON.parse(e)}catch(e){}return null}function _r(e,t){const n=t.replace(/[[\]]/g,"\\$&"),i=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)").exec(e);if(!i)return null;const r=i[2];return decodeURIComponent(r.replace(/\+/g," "))||""}!function(e){const t=/[^A-Za-z0-9]+/g;function n(e,t=!1){if(!Oe(e))return null;return r((e||"").split("?")[1],t)}function i(e){return e=e.replace(/\+/g," "),e=decodeURIComponent(e)}function r(e,t=!1){const n=[];if(e&&e.startsWith("?")&&(e=e.substring(1)),e){const r=(e=e.split("#")[0]).split("&");for(let e=0;e<r.length;e++){const o=r[e].split("=");let s=o[0],a=o[1];t&&(s=i(s),a&&(a=i(a)));const c={key:s,value:a},l=tr(n,(e=>e.key===c.key));-1===l?n.push(c):n[l]=c}}return n}e.getParamsFromUrl=n,e.encodeURIComponentForPrime=function(e){return encodeURIComponent(e.replace(t,"-"))},e.getParams=r,e.getParamsWithItems=function(e,t=!1,n="item"){const r=[];if(e){e.startsWith("?")&&(e=e.substring(1));const o=(e=e.split("#")[0]).split("&");for(let e=0;e<o.length;e++){const s=o[e].split("=");let a=s[0],c=s[1];if(t&&(a=i(a),c&&(c=i(c))),a.toLowerCase()===n){c=c.replace("::::",";;;;");const e=c.split(":");if(2===e.length){a=e[0],c=e[1].replace(";;;;","::::");const t={key:a,value:c};-1===r.findIndex((e=>e.key===t.key))&&r.push(t)}}}}return r};const o={};function s(e){const t={},i=n(e,!0);return i&&i.length&&i.forEach((e=>t[e.key]=e.value)),t}e.getQueryParameterByName=function(e,t){o[t]||(o[t]=s(t));const n=o[t][e];return void 0!==n?n:null},e.isValidUrl=function(e,t){return Oe(e)&&e.length>0&&(!t||t&&0===e.indexOf("http"))},e.keyValueArrayToQueryString=function(e){return!Me(e)||ir(e)?"":e.filter((e=>Ge.isKeyValuePair(e,(e=>"string"==typeof e),(e=>"string"==typeof e)))).map((e=>e.key+"="+e.value)).join("&")},e.getParamsObj=s,e.joinSubpathToURL=function(e,t){const n=e.href,i=Er(n,"/"),r=Dr(t,"/");return new URL(`${i}/${r}`)},e.updateSearchParam=function(e,t,n){return e&&e.searchParams&&e.searchParams.get(t)&&e.searchParams.set(t,n),e},e.appendSearchParam=function(e,t,n,i){return e&&(e.searchParams||i?e.searchParams.append(t,n):e=new URL(e.href+(e.search.indexOf("?")>=0?"&":"?")+t+"="+n)),e},e.getAbsoluteUrl=function(e){return e.indexOf("://")>0||0===e.indexOf("//")?e:ie()+e};const a=new Set(["/","$","^","+",".","(",")","=","!","|"]);e.urlPatternToRegExp=function(e){if(0==e.indexOf("/")&&e.lastIndexOf("/")>0){const t=e.slice(1,e.lastIndexOf("/")),n=e.substring(e.lastIndexOf("/")+1)||void 0;return new RegExp(t,n)}return function(e){const t=["^"];let n;for(let i=0;i<e.length;++i){const r=e[i];if(a.has(r))t.push("\\"+r);else if("*"!==r)switch(r){case"?":t.push(".");break;case"{":n=!0,t.push("(");break;case"}":n=!1,t.push(")");break;case",":if(n){t.push("|");break}t.push("\\"+r);break;default:t.push(r)}else{const n=e[i-1];let r=1;for(;"*"===e[i+1];)r++,i++;const o=e[i+1];!(r>1)||"/"!==n&&void 0!==n||"/"!==o&&void 0!==o?t.push("([^/]*)"):(t.push("((?:[^/]*(?:/|$))*)"),i++)}}return t.push("$"),new RegExp(t.join(""))}(e)},e.compareURLs=function(e,t){try{const n=new URL(e),i=new URL(t),r=n.searchParams,o=i.searchParams,s=[],a=[],c=[];return r.forEach(((e,t)=>{o.has(t)?o.get(t)!==r.get(t)&&c.push(t):a.push(t)})),o.forEach(((e,t)=>{r.has(t)||s.push(t)})),{hostMismatch:n.hostname!==i.hostname,pathMismatch:n.pathname!==i.pathname,paramsMissingLeft:s.join(","),paramsMissingRight:a.join(","),paramsDiff:c.join(",")}}catch(e){return{}}}}(Lr||(Lr={}));let Mr=new class{constructor(){c()?(this.isDebugEnabled=(_r(window.location.href,"debug")||"").toLowerCase()in{1:1,true:1}||"vp"===(_r(window.location.href,"reqsrc")||"").toLowerCase(),this.isDebugEnabled&&!n.g.TEST_ENV&&(window.webpackRequire=n)):this.isDebugEnabled=!1}getLoggingService(){return null}isDebug(){return this.isDebugEnabled}setDebug(e){this.isDebugEnabled=e}setTags(e){}log(e,t){this.isDebug()&&console.info(e)}logError(e){console.error(e)}logCallback(e){this.isDebug()&&console.info(e())}logObjects(...e){this.isDebug()&&console.log(...e)}logSingleObject(e,t){this.isDebug()&&console.log(e)}};class Ur{get supported(){return!!this.storage}constructor(e){this.storage=e}getItem(e){if(this.supported)return this.storage.getItem(e)}getObject(e,t){const n=this.getItem(e);if(null!=n){const e=Nr(n);if(null!=e)return e}return t}key(e){if(this.supported&&e>=0)return this.storage.key(e)}keys(){return this.supported?Object.keys(this.storage):[]}setObject(e,t){void 0!==t?this.setItem(e,JSON.stringify(t)):this.removeItem(e)}removeObject(e){const t=this.removeItem(e);if(null!=t)return Nr(t)}setItem(e,t,n=!0){if(this.supported)try{if(!t)throw"Attempted to store null/undefined value: "+t;this.storage.setItem(e,t)}catch(e){if(!n)throw e;Mr.logError(e)}else if(!n)throw new Error("WebStorage not supported")}get length(){if(this.supported)return this.storage.length}removeItem(e){if(this.supported){const t=this.getItem(e);return this.storage.removeItem(e),t}}clear(){this.supported&&this.storage.clear()}removeSubstringKeys(e){if(!this.supported||!e)return;const t=[];for(let n=0;n<this.storage.length;n++){const i=this.key(n);i&&i.includes(e)&&t.push(i)}for(let e=0;e<t.length;e++)this.removeItem(t[e])}}function Or(){return xr}let xr=new class extends Ur{constructor(){let e=null;if(c())try{e=localStorage}catch(e){}super(e)}};let jr,Fr=new class extends Ur{constructor(){let e=null;if(c())try{e="sessionStorage"in window&&window.sessionStorage}catch(e){}super(e)}};const Br=new Promise((e=>{jr=e}));let Hr=()=>Br,qr=null;var Wr,Vr;!function(e){e[e.Exceptional=0]="Exceptional",e[e.Fallback=1]="Fallback"}(Wr||(Wr={})),function(e){e[e.Alert=0]="Alert",e[e.Deprecated=1]="Deprecated",e[e.HighImpact=2]="HighImpact",e[e.Critical=3]="Critical"}(Vr||(Vr={}));Vr.Alert;const $r=Vr.Deprecated,zr=(Vr.HighImpact,Vr.Critical,Wr.Fallback,Wr.Exceptional,{build:""});function Gr(e){Object.assign(zr,e)}function Kr(e,t=Vr.Alert,n,i,r){const o={id:e,severity:t,pb:void 0===n?zr:n};return void 0!==i&&(o.message=i),void 0!==r&&(o.source=r),o}function Jr(e,t){return{build:"",userImpacting:e,errorBehavior:t}}Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.HighImpact,Vr.HighImpact,Vr.HighImpact,Vr.HighImpact;const Qr=Kr(112001,$r);Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated;function Yr(e,t,n,i={}){const r=zr;return"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("appError",{detail:{errorId:e.id}})),{...e,message:t||e.message,pb:n?{...r,...e.pb,customMessage:n,...i,w:1}:{...r,...e.pb,...i,w:1}}}Math.pow(10,8);var Zr=6e4,Xr=36e5;function eo(e,t){var n;!function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}(1,arguments);var i=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var r,o=function(e){var t,n={},i=e.split(to.dateTimeDelimiter);if(i.length>2)return n;/:/.test(i[0])?t=i[0]:(n.date=i[0],t=i[1],to.timeZoneDelimiter.test(n.date)&&(n.date=e.split(to.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var r=to.timezone.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}(e);if(o.date){var s=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(n);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:null===o?r:100*o,restDateString:e.slice((i[1]||i[2]).length)}}(o.date,i);r=function(e,t){if(null===t)return new Date(NaN);var n=e.match(no);if(!n)return new Date(NaN);var i=!!n[4],r=oo(n[1]),o=oo(n[2])-1,s=oo(n[3]),a=oo(n[4]),c=oo(n[5])-1;if(i)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,c)?function(e,t,n){var i=new Date(0);i.setUTCFullYear(e,0,4);var r=i.getUTCDay()||7,o=7*(t-1)+n+1-r;return i.setUTCDate(i.getUTCDate()+o),i}(t,a,c):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(co[t]||(lo(e)?29:28))}(t,o,s)&&function(e,t){return t>=1&&t<=(lo(e)?366:365)}(t,r)?(l.setUTCFullYear(t,o,Math.max(r,s)),l):new Date(NaN)}(s.restDateString,s.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);var a,c=r.getTime(),l=0;if(o.time&&(l=function(e){var t=e.match(io);if(!t)return NaN;var n=so(t[1]),i=so(t[2]),r=so(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,i,r))return NaN;return n*Xr+i*Zr+1e3*r}(o.time),isNaN(l)))return new Date(NaN);if(!o.timezone){var u=new Date(c+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return a=function(e){if("Z"===e)return 0;var t=e.match(ro);if(!t)return 0;var n="+"===t[1]?-1:1,i=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,r))return NaN;return n*(i*Xr+r*Zr)}(o.timezone),isNaN(a)?new Date(NaN):new Date(c+l+a)}var to={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},no=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,io=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ro=/^([+-])(\d{2})(?::?(\d{2}))?$/;function oo(e){return e?parseInt(e):1}function so(e){return e&&parseFloat(e.replace(",","."))||0}var ao,co=[31,null,31,30,31,30,31,31,30,31,30,31];function lo(e){return e%400==0||e%4==0&&e%100!=0}function uo(e){return"shd_"+e}!function(e){e.GLOBAL="GLOBAL",e.GCC_MODERATE="GCC_MODERATE"}(ao||(ao={}));const ho="peregrine-widget-settings",go="__HeadDataInstance__";class po{get Locale(){return this.locale}get MarketDir(){return this.marketDir}set MarketDir(e){this.marketDir=e}get CurrentFlights(){return this.currentFlights||""}set CurrentFlights(e){var t;this.currentFlights=e,this.currentFlightSet=new Set((e||"").split(",")),null!==(t=this.currentFlightSet)&&void 0!==t&&t.has("remflighthead")||this.setSweeperStoredHeadData(G,this.currentFlights)}get AppFlights(){return this.appFlights}get CurrentFlightSet(){return this.currentFlightSet}get ClientSettings(){return this.clientSettings}set ClientSettings(e){this.clientSettings=e}get Diagnostics(){return this.diagnostics}set Diagnostics(e){this.diagnostics=e}get EnableCMSPPEConfigs(){return this.enableCMSPPEConfigs}get EdgeNTPHeader(){return this.edgeNTPHeader}set EdgeNTPHeader(e){this.edgeNTPHeader=e}get UserIsSignedIn(){return this.userIsSignedIn}get IsPreload(){return this.isPreload}set IsPreload(e){this.isPreload=e}get IsPrerender(){return this.isPrerender}set IsPrerender(e){this.isPrerender=e}get IsBlendedEnterprise(){return this.isBlendedEnterprise}set IsBlendedEnterprise(e){this.isBlendedEnterprise=e}get IsServiceWorkerCache(){return this.isServiceWorkerCache}get LastKnownAppVersion(){return this.lastKnownAppVersion}get AnonCookieName(){return this.anonCookieName}set AnonCookieName(e){this.anonCookieName=e}get SsoComplete(){return this.ssoComplete}get AadState(){return this.aadState}set AadState(e){this.aadState=e}set LocaleName(e){this.locale=e}get SelectedFeedPivot(){return this.selectedFeedPivot}set SelectedFeedPivot(e){this.selectedFeedPivot=e}get LastSelectedPivot(){return this.lastSelectedPivot}set LastSelectedPivot(e){this.lastSelectedPivot=e}get SwitchedPivot(){return this.switchedPivot}set SwitchedPivot(e){this.switchedPivot=e}get AdsNumberLines(){return this.adsNumberLines||""}set AdsNumberLines(e){this.adsNumberLines=e}constructor(e){this.currentFlightSet=new Set,this.enableCMSPPEConfigs=!1,this.initializeHeadData(e)}static getInstance(){return a.get(go,(()=>new po))}static resetInstance(e){const t=new po(e);return a.set(go,t),fo=J(po),fo}initializeHeadData(e){if(e)return void this.initializeFromData(e);if(this.newRidNeeded=void 0,this.lastUsedActivityIdBacking=void 0,this.locationSearch=re(),this.htmlElement=c()?se(ae)[0]:null,this.headElement=c()?se(ce)[0]:null,this.applicationCache=c()?window.applicationCache:null,this.selectedFeedPivot="",this.widgetSettingsElement=c()?function(e){if(!c())throw new Error("getDocumentElementsByClassName is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementsByClassName(e)}(ho)[0]:null,!this.htmlElement||!this.headElement)return;this.initializeFromDom(),window&&window.navigator&&window.navigator.serviceWorker&&window.navigator.serviceWorker.controller&&(this.isServiceWorkerCache=!0),(this.isServiceWorkerCache||window.__useCachedApp)&&(this.initializeFromStorage(),this.initializeLastUsedActivityId());const t=we(this.clientSettings&&this.clientSettings.locale),n=this.clientSettings&&t&&t.language&&t.market;this.locale=n?ye(t):"";const i=this.htmlElement.getAttribute("dir");this.marketDir=i&&i.toLocaleLowerCase()||"",this.setQueryItemProvidedValues();const r=(this.widgetSettingsElement||this.headElement).getAttribute("data-js");if(r){const e=Nr(r);this.anonCookieName=e.anonckname,this.userIsSignedIn=1===e.signedin}Lr.getQueryParameterByName("backgroundpreload",this.locationSearch)&&"hidden"===document.visibilityState&&(this.isPreload=!0,this.logDocumentVisibility()),Lr.getQueryParameterByName("prerender",this.locationSearch)&&"hidden"===document.visibilityState&&(this.isPrerender=!0,this.logDocumentVisibility()),c()&&window.ShellFeedsApp&&window.ShellFeedsApp.shellFeedsExperienceInfo&&!window.ShellFeedsApp.shellFeedsExperienceInfo.isWebviewVisible&&0===window.ShellFeedsApp.shellFeedsExperienceInfo.buttonInteraction&&(this.isPreload=!0),this.setIsBlendedEnterprise()}get lastUsedActivityId(){if(this.lastUsedActivityIdBacking)return this.lastUsedActivityIdBacking;const e=this.getStoredActivityIdKey(),t=Or().getItem(e);return t&&(this.lastUsedActivityIdBacking=Nr(t)),this.lastUsedActivityIdBacking}set lastUsedActivityId(e){const t=this.getStoredActivityIdKey();if(e){if(e.id&&e.ts){try{Or().setItem(t,JSON.stringify(e),!1)}catch(e){const t=e&&e.message;Hr().then((()=>{!function(e,t,n,i={},r=!0){qr&&qr.sendAppErrorEvent(Yr(e,t,n,i),r)}(Qr,t)}))}this.lastUsedActivityIdBacking=e}}else Or().removeItem(t)}get storedHeadData(){return function(e){const t=uo(e),n=Or().getItem(t);return n?Nr(n):null}(this.clientSettings.pagetype)}set storedHeadData(e){!function(e,t){const n=uo(e);t?Or().setItem(n,JSON.stringify(t)):Or().removeItem(n)}(this.clientSettings.pagetype,e)}initializeFromData(e){var t,n;this.clientSettings=e.clientSettings,this.edgeNTPHeader=e.edgeNTPHeader,this.selectedFeedPivot=null===(t=e.edgeNTPHeader)||void 0===t?void 0:t.selectedFeedPivot,this.setFlights(e.clientInfo),this.appFlights=be(e.canvasInfo),this.setQueryItemProvidedValues();const i=we(this.clientSettings&&(null===(n=this.clientSettings)||void 0===n?void 0:n.locale)),r=this.clientSettings&&i&&i.language&&i.market;this.locale=r?ye(i):"",this.marketDir=e.marketDir&&e.marketDir.toLocaleLowerCase()||"",this.setIsBlendedEnterprise()}initializeFromDom(){const e=this.widgetSettingsElement||this.headElement;this.setFlights(e.getAttribute("data-info")),this.appFlights=be(e.getAttribute("data-canvas-info")),this.setAdsNumberLines(e.getAttribute("data-ads-numberline"));const t=e.getAttribute(le);if(!t)return;if(this.clientSettings=Nr(t),!this.clientSettings)return;const n=e.getAttribute("data-diagnostics");this.diagnostics=Nr(n),this.calculateForwardableParams();const{pagetype:i}=this.clientSettings;if(!i){const t=e.getAttribute("data-pagetype");this.clientSettings.pagetype=null==t?void 0:t}if(i)try{const e=Or().getObject(ge)||{};this.lastKnownAppVersion=e[i];const{bundleInfo:t}=this.clientSettings;t&&this.lastKnownAppVersion!==t.v&&(e[i]=t.v,Or().setObject(ge,e))}catch{Mr.log(`${this.logPrefix()} couldn't complete local storage related operation.`)}}initializeFromStorage(){const e=this.storedHeadData;e&&this.populateFromApiResponse(e)}populateFromApiResponse(e){if(!e)return;const t=e.clientSettings,n=e.info;if(this.appFlights=be(e.canvasInfo),!t||!n)return;if(this.clientSettings.pageGenTime>=t.pageGenTime)return void(this.storedHeadData=null);const i=this.clientSettings.queryparams,r=this.clientSettings&&this.clientSettings.bundleInfo&&this.clientSettings.bundleInfo.v;this.clientSettings=t,this.clientSettings.bundleInfo=Object.assign(this.clientSettings.bundleInfo||{},{v:r}),this.clientSettings.queryparams=i,this.calculateForwardableParams(),this.setFlights(n)}calculateForwardableParams(){const e=this.clientSettings?this.clientSettings.queryparams:"";if(!e)return;const t=e.toLocaleLowerCase(),n=["fdhead","item"].map((e=>{const n=Lr.getQueryParameterByName(e,t);return n?`${e}=${encodeURIComponent(n)}`:null})).filter((e=>e));this.clientSettings.forwardablequeryparams=n.join("&")}initializeLastUsedActivityId(){const e=this.lastUsedActivityId,t=this.clientSettings.aid,n=eo(this.clientSettings.pageGenTime).getTime();this.newRidNeeded=!(!e||!n||e.id!==t),n&&(!e||n>e.ts)&&(this.lastUsedActivityId={id:t,ts:n})}setFlights(e){this.CurrentFlights=((/f:\s*([^;]+)/i.exec(e)||{})[1]||"").toLowerCase(),this.currentFlightSet=new Set(this.currentFlights.split(","))}setSweeperStoredHeadData(e,t){if(!e)return;const n=uo("sweeper"),i=Fr.getObject(n)||{};t?i[e]=t:delete i[e],Fr.setObject(n,i)}setIsBlendedEnterprise(){this.IsBlendedEnterprise=this.clientSettings&&"enterprise"===this.clientSettings.audienceMode&&this.clientSettings.browser&&"edgeChromium"===this.clientSettings.browser.browserType&&parseInt(this.clientSettings.browser.version)>=87}setQueryItemProvidedValues(){const e=Lr.getParamsWithItems(re(),!0),t=e.find((e=>"cms"===e.key));this.enableCMSPPEConfigs=t&&"ppe"===t.value,this.setCurrentFlightsTestOverride(e)}setCurrentFlightsTestOverride(e){if(ne().toLowerCase().includes("localhost")&&e){const t=e.find((e=>"flights"===e.key));t&&(this.currentFlights=t.value,this.currentFlightSet=new Set(this.currentFlights.split(",")))}}setAdsNumberLines(e){this.AdsNumberLines=(/^f:\s*([^;]+)/i.exec(e)||{})[1]||""}getStoredActivityIdKey(){return"sai_"+this.clientSettings.pagetype}logPrefix(){return"HeadData:"+(c()?"":` [Head:${this.widgetSettingsElement||this.headElement}] and [Html:${this.htmlElement}]`)}logDocumentVisibility(){c()&&(Gr({isVisible:"visible"===document.visibilityState}),document.addEventListener("visibilitychange",(()=>{Gr({isVisible:"visible"===document.visibilityState})})))}}let fo=J(po);function mo(){return c()?window._pageTimings||(window._pageTimings={}):a.get("__diagnostics_pageTimings",(()=>({})))}var vo,wo,yo,bo,So,Co;function Io(e){switch(e){case So.prod:case So.staging:return So.prod;case So.int1:return So.int1;case So.int:case So.intpr:case So.intperf:return So.int;default:return null}}!function(e){e[e.Production=0]="Production",e[e.Local=1]="Local"}(vo||(vo={})),function(e){e.WWW="www",e.MicrosoftStart="microsoftstart",e.INT="int",e.INT1="int1",e.MicrosoftStartINT="microsoftstart-int",e.MicrosoftStartINT1="microsoftstart-int1"}(wo||(wo={})),function(e){e.MSN="msn",e.MicrosoftStart="microsoftstart"}(yo||(yo={})),function(e){e.COM="com",e.CN="cn"}(bo||(bo={})),function(e){e.prod="prod",e.staging="staging",e.int1="int1",e.int="int",e.intpr="intPR",e.intperf="intPerf"}(So||(So={})),function(e){e.getHostPageFromUrl=function(e){if(!e)return;const t=new URL(e),n=t.hostname,i=t.pathname.split("/"),r=(n.match(/[^.]+\.[^.\d]+$/)||{})[0]||"";if(i.length<=2)return{originalUrl:e,categoryKey:null,verticalKey:null,hostName:n,topDomain:r};const o=5===i[1].length&&2===i[1].split("-").length?1:0,s={originalUrl:e,categoryKey:i[2+o],verticalKey:i[1+o],hostName:n,topDomain:r};return i.length>=2&&(s.subcategoryKey=i[3+o]),s}}(Co||(Co={}));const Ao="MUID";function ko(e,t){if(e){const n=new RegExp("\\b"+t+"\\s*=\\s*([^;]*)","i").exec(e);return n&&n.length>1?n[1]:null}return null}function To(e){return ko(oe(),e)}function Eo(){return To(Ao)}var Po,Ro;!function(e){e.Anon="ANON",e.AppAnon="APP_ANON",e.Unknown=""}(Po||(Po={})),function(e){e.AnonCookieExists="ace",e.AppAnonCookieExists="aace"}(Ro||(Ro={}));let Lo;var Do;!function(e){e.prod="prod",e.prodssr="prod-ssr",e.staging="staging",e.int1="int1",e.int="int",e.intpr="intpr",e.intperf="intperf"}(Do||(Do={}));const No="feed/personalize/settings";const _o="1s-tokens";var Mo;let Uo;function Oo(){return Uo=Uo||void 0===Uo&&Or().getObject(_o)||null,Uo}!function(e){e.NotAvailable="notAvailable",e.Expired="expired",e.Valid="valid"}(Mo||(Mo={}));const xo="currentaccount",jo=l((()=>{const e=x(xo,!0),t=e&&Nr(e),{login_hint:n}=t||{};return n&&t})),Fo=l((()=>!!x(xo)));function Bo(){try{return localStorage}catch(e){return null}}const Ho="__PageExperimentInstance__";function qo(e){a.set(Ho,e)}function Wo(e){if(!a.has(Ho)&&c()){var t;qo(Vo(document.head.dataset.info||(null===(t=window.document.getElementsByClassName("peregrine-widget-settings")[0])||void 0===t||null===(t=t.dataset)||void 0===t?void 0:t.info)||""))}const n=a.get(Ho);return n&&n.has(e)}function Vo(e){const t=(e||"").replace(/(^f:|;.*$)/g,"").split(",");return new Set(t)}const $o="uxlogin",zo="uxlogout",Go="uxedit",Ko="useRedirect",Jo="uxswitch",Qo=l((()=>{const e=Bo();return e&&"1"===e.getItem($o)||c()&&location.search&&location.search.includes(`${$o}=1`)}));const Yo=l((()=>{const e=function(){try{return sessionStorage}catch(e){return null}}();return e&&!!e.getItem(zo)}));const Zo=l((()=>{const e=Bo();return e&&"1"===e.getItem(Go)}));const Xo=l((()=>{const e=Bo(),t=!Wo("prg-noredirect")&&e&&"1"===e.getItem(Ko)&&function(){const e=document.head.dataset.clientSettings||"",{browser:t}=Nr(e)||{},{browserType:n=""}=t||{};return!!/safari/i.test(n)}();return t}));const es=l((()=>{const e=Bo();return e&&"1"===e.getItem(Jo)}));const ts=(c()?Nr(document.head.dataset.clientSettings||(null===(ns=document.getElementsByClassName(ho)[0])||void 0===ns?void 0:ns.getAttribute(le))):null)||{};var ns;const is={newsAndInterests:1,windowsNewsPlus:1,winWidgets:1,webWidgets:1,windowsShell:1,windowsShellV2:1,distribution:1,superApp:1,channelmobile:1,edgeMobile:1},rs={edgeChromium:1},os={winWidgets:1,webWidgets:1},ss={edgeChromium:1,shopping:1,newsAndInterests:1,windowsNewsPlus:1,winWidgets:1,webWidgets:1,windowsShell:1,windowsShellV2:1,msn:1},as={edgeChromium:1,channelmobile:1,cgHomePage:1,distribution:1,newsAndInterests:1,windowsNewsPlus:1,winWidgets:1,webWidgets:1,windowsShell:1,windowsShellV2:1,superApp:1,edgeMobile:1},cs={bingHomepage:1,edgeChromium:1,newsAndInterests:1,webWidgets:1,windowsNewsPlus:1,winWidgets:1,windowsShell:1,windowsShellV2:1},ls=l((()=>ts&&ts.apptype)),us=(l((()=>c()&&ls()in os)),l((()=>c()&&!D()&&!(ls()in is)&&!hs()&&!gs()))),ds=l((()=>us()&&!(ls()in rs)));l((()=>us()&&(!(ls()in rs)||!Fo()))),l((()=>us()&&!ps()&&!fs()));l((()=>fs()||ps()));const hs=l((()=>!(ls()in ss)&&ms()&&function(){if("homePage"==ls())return!0;const e=new URLSearchParams(re()).get("ocid")||(null==ts?void 0:ts.ocid),t=null==e?void 0:e.toLowerCase();if(ve.has(t)&&Wo("prg-msn-id"))return!0;const n=!ve.has(t)&&!me.has(t);return n}()&&!function(){const e="windows"==ls()&&"windowshp"==(ts&&ts.pagetype)&&te().includes(`${No}`);return e}())),gs=(l((()=>ls()in cs&&Wo("use-digitalid-t"))),()=>c()&&document&&document.body&&document.body.getElementsByClassName("peregrine-widgets").length>0);l((()=>ls()in as||hs()));function ps(){return ds()&&Qo()||function(){const e=ds()&&!vs()&&!Qo()&&jo()&&("expired"==function(){if(Uo=Oo(),!Uo)return"notAvailable";const e=Uo.expiresOn,t=new Date(e),n="expired";return t.getTime()&&t>new Date?"valid":n}()||Zo());return e}()||Yo()||Xo()}function fs(){return ds()&&!jo()&&es()}const ms=l((()=>{const{browser:e}=ts,{browserType:t="",detected:n={}}=e||{},{browserType:i=""}=n||{};return/edgeChromium/i.test(t)||/edgeAndroid/i.test(t)||/edgeiOS/i.test(t)||/edge/i.test(i)}));l((()=>ds()&&!hs()));const vs=()=>{const e=jo();if(!e)return!1;let t;switch(e.account_type){case"MSA":t=ds()?"ace":"aace";break;case"AAD":t=ds()?"WID":"APP_WID";break;default:return!1}return!!x(t)};const ws=()=>{const e=x("elt",!0),t=e&&Nr(e),{access_token:n,account_type:i,login_hint:r,region_scope:o}=t||{};return(n||i||r||o)&&t},ys=()=>{const e=ws();return e&&e.region_scope};Vr.Alert;const bs={build:""};Vr.Critical,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.Critical,Vr.Critical,Vr.Critical,Vr.Deprecated,Vr.Deprecated,Vr.Deprecated,Vr.HighImpact;const Ss="__AppEnvironmentInstance__";class Cs{get ShouldUseFdheadQsp(){return this.shouldUseFdheadQsp}set ShouldUseFdheadQsp(e){this.shouldUseFdheadQsp=e}get DisableInMemoryCache(){return!!this.disableInMemoryCache}set DisableInMemoryCache(e){this.disableInMemoryCache=e}get CanvasTheme(){return this.canvasTheme}set CanvasTheme(e){this.canvasTheme=e}get OneServiceContentMarketQspKey(){return this.oneServiceContentMarketQspKey}get Ecasession(){return void 0===this.ecasession&&(this.ecasession=To("ecasession")||"init"),this.ecasession}get BrowserOptOut(){return void 0===this.browserOptOut&&(this.browserOptOut="1"===To("TOptOut")),this.browserOptOut}get MachineId(){return this.machineId}set MachineId(e){this.machineId=e}get isMobile(){var e,t;const n=(null==fo||null===(e=fo.ClientSettings)||void 0===e?void 0:e.ocid)||"",i=(null==fo||null===(t=fo.ClientSettings)||void 0===t?void 0:t.deviceFormFactor)||"";return n.startsWith("msnaroverlay")||"phone"===i}get isMiniProgram(){var e;const t=fo.ClientSettings||{ocid:"",deviceFormFactor:""},n=c()?"weatherminiprogram"===t.ocid||((null===(e=navigator)||void 0===e?void 0:e.userAgent)||"").indexOf("miniProgram")>-1:"weatherminiprogram"===t.ocid;return"phone"===t.deviceFormFactor&&n}get isOverlayFrame(){var e;return((null==fo||null===(e=fo.ClientSettings)||void 0===e?void 0:e.ocid)||"").startsWith("msnaroverlay")}get ActivityId(){return this.activityId}set ActivityId(e){this.activityId=e,fo.ClientSettings={...fo.ClientSettings,aid:e}}get FrontDoorMuid(){return this.frontDoorMuid}get EnvironmentConfigUrl(){const e=new URL("",this.environmentConfigUrl);"dev"===new URLSearchParams(re()).get("env")&&e.searchParams.set("env.config","dev");const t=new URLSearchParams(re()).get("env.config");return t&&e.searchParams.set("env.config",t),e}get ContentServiceUrlBase(){const e=new URL("",this.contentServiceUrlBase);"dev"===new URLSearchParams(re()).get("env")&&e.searchParams.set("env.content","dev");const t=new URLSearchParams(re()).get("env.content");return t&&e.searchParams.set("env.content",t),e}get CurrentRequestTargetScope(){return this.currentRequestTargetScope}set CurrentRequestTargetScope(e){this.currentRequestTargetScope=e}get LocaleContentMarket(){var e,t;return we(fo.ClientSettings&&fo.ClientSettings.locale)||(null===(e=this.currentRequestTargetScope)||void 0===e||null===(e=e.locale)||void 0===e?void 0:e.content)||(null===(t=this.currentRequestTargetScope)||void 0===t?void 0:t.locale)}get LocaleDisplayLanguage(){return we(fo.ClientSettings&&fo.ClientSettings.locale,!0)||this.LocaleContentMarket}get LocaleContentMarketString(){const e=this.LocaleContentMarket;return e&&e.language&&e.market?ye(e):""}get LocaleDisplayLanguageString(){const e=this.LocaleDisplayLanguage;return e&&e.language&&e.market?ye(e):""}get SourceUrl(){let e=Is.HostPage.originalUrl;const t=Is.CurrentRequestTargetScope.pageType,n=Is.HostPage.verticalKey;if("localhost.msn.com"===Is.HostPage.hostName&&"ntp"===t)return e="https://ntp.msn.com/edge/ntp",e;if(t&&n){const i=t.toLowerCase();(i.indexOf("dhp")>-1||i.indexOf("ntp")>-1)&&(e="https://"+Is.HostPage.hostName+"/"+n+"/"+t)}return e}get CurrentMarket(){return this.currentMarket}set CurrentMarket(e){this.currentMarket=e}get EnableFiveColLayout(){return this.enableFiveColLayout}set EnableFiveColLayout(e){this.enableFiveColLayout=e}get Environment(){return this.environment}set Environment(e){this.environment=e}get StaticDomain(){return this.staticDomain}get HostPage(){return this.hostPage}set HostPage(e){this.hostPage=e}get AppType(){return this.appType}get MiniAppId(){return this.miniAppId}get AuthCookieName(){return this.authCookieName}set AuthCookieName(e){this.authCookieName=e}get UseAuthFetch(){return this.useAuthFetch}set UseAuthFetch(e){this.useAuthFetch=e}get AccountInfoPromise(){return this.accountInfoPromise}set AccountInfoPromise(e){this.accountInfoPromise=e}get ResolvedAccountInfo(){return this.resolvedAccountInfo}set ResolvedAccountInfo(e){this.resolvedAccountInfo=e}get BuildVersion(){return this.buildVersion||""}get ClarityEnabled(){return this.clarityEnabled}set ClarityEnabled(e){this.clarityEnabled=e}get IsWinAADUser(){return this.isWinAADUser}set IsWinAADUser(e){this.isWinAADUser=e}get RootTelemetryId(){return this.rootTelemetryId}set RootTelemetryId(e){this.rootTelemetryId=e}get TrackInfo(){return this.trackInfo}set TrackInfo(e){this.trackInfo=e}get UserId(){return this.getUserMuid()||this.userId}set UserId(e){this.userId=e}get OneServiceApiKey(){return this.oneServiceApiKey}set OneServiceApiKey(e){this.oneServiceApiKey=e}get OneServiceOverride(){return this.oneServiceOverride}set OneServiceOverride(e){this.oneServiceOverride=e}get EnvInstanceOverride(){return this.envInstanceOverride}get IsDebug(){return this.isDebug}get NavTargetHostName(){return this.navTargetHost}get UseCachedApp(){return c()&&!!window.__useCachedApp}get NavTargetUrlWithLocale(){return`https://${this.NavTargetHostName}/${this.CurrentMarket}`}get IsChinaCompliance(){return this.isChinaCompliance}get IsCaliforniaRegion(){return this.isCaliforniaRegion}get AssetsUrl(){return this.staticAssetsUrl}set AssetsUrl(e){this.staticAssetsUrl=e}get StaticsUrl(){return this.staticsUrl}get StaticsUrlWithBuild(){return this.staticsUrlWithBuild}get topDomain(){return this.isChinaCompliance?bo.CN:bo.COM}get isGccModUser(){if(hs()){const e=ys();Promise.resolve(e===ao.GCC_MODERATE)}if(this.AccountInfoPromise)return this.AccountInfoPromise.then((e=>(null==e?void 0:e.region_scope)===ao.GCC_MODERATE))}get unsupportedEnterpriseCloud(){if(hs()){const e=ys();Promise.resolve(!(e===ao.GLOBAL))}if(this.AccountInfoPromise)return this.AccountInfoPromise.then((e=>!((null==e?void 0:e.region_scope)===ao.GLOBAL)))}get WidgetAttributes(){return this.widgetAttributes}set WidgetAttributes(e){this.widgetAttributes=e}get ServiceUrlBase(){const e=new URL("",this.serviceUrlBase);"dev"===new URLSearchParams(re()).get("env")&&e.searchParams.set("env.service","dev");const t=new URLSearchParams(re()).get("env.service");return t&&e.searchParams.set("env.service",t),e}get FeedServiceUrlBase(){if(!this.feedServiceUrlBase)return null;const e=new URL("",this.feedServiceUrlBase);"dev"===new URLSearchParams(re()).get("env")&&e.searchParams.set("env.service","dev");const t=new URLSearchParams(re()).get("env.service");return t&&e.searchParams.set("env.service",t),e}get EnterpriseServiceUrlBase(){if(!this.enterpriseServiceDomainUrl)return;const e=new URL("",this.enterpriseServiceDomainUrl);"dev"===new URLSearchParams(re()).get("env")&&e.searchParams.set("env.service","dev");const t=new URLSearchParams(re()).get("env.service");return t&&e.searchParams.set("env.service",t),e}get isAadAccountUser(){return this.CurrentRequestTargetScope&&"enterprise"===this.CurrentRequestTargetScope.audienceMode&&this.ResolvedAccountInfo&&this.ResolvedAccountInfo.account_type&&"AAD"===this.ResolvedAccountInfo.account_type}get IsFrePage(){return this.isFrePage}get DisableCachingConfigs(){return this.disableCachingConfigs}get EnableConfigService(){const e=Lr.getQueryParameterByName("enableConfigService",re());return e?"true"===e.toLocaleLowerCase():this.enableConfigService}get EnableCMSPPEConfigs(){return fo&&fo.EnableCMSPPEConfigs}get IsMultiConfigRetrievalEnabled(){return this.isMultiConfigRetrievalEnabled}get SendFeedCallActivityIdInHeader(){return this.sendFeedCallActivityIdInHeader}get SendUserIdInHeader(){return this.sendUserIdInHeader}set SendUserIdInHeader(e){this.sendUserIdInHeader=e}get ConfigServiceBaseUrl(){return this.configServiceBaseUrl}get CrsRetryBaseUrl(){return this.crsRetryBaseUrl}get FeatureFlags(){return this.featureFlags}get HostHeaderOverride(){return this.hostHeaderOverride}get ConfigRootUrl(){if(!this.configRootUrl)return null;const e=new URL("",this.configRootUrl);"dev"===new URLSearchParams(re()).get("env")&&e.searchParams.set("env.config","dev");const t=new URLSearchParams(re()).get("env.config");return t&&e.searchParams.set("env.config",t),e}get CacheBustingIdentifier(){return this.cacheBustingIdentifier}get IsGitConfigs(){return this.isGitConfigs}get CountryCode(){return this.countryCode}set CountryCode(e){this.countryCode=e}get ActivityIdLowerCaseNoHypens(){return(fo&&fo.ClientSettings&&fo.ClientSettings.aid||"").toLowerCase()}get Latitude(){return this.latitude}get Longitude(){return this.longitude}get ConfigOrigins(){return this.configOrigins}get CrsVersion(){return this.crsVersion}get CrsPath(){return this.crsPath}get CrsDisableServerCache(){return this.crsDisableServerCache}set CrsDisableServerCache(e){this.crsDisableServerCache=e}get LanguageRegionMismatch(){return this.findLanguageRegionMismatch()?"marketmismatch":""}get isWindowsDashboard(){return"newsAndInterests"===Is.AppType||"windowsNewsPlus"===Is.AppType||"winWidgets"===Is.AppType}get LanguageRegionMismatchExplicit(){return this.findLanguageRegionMismatchExplicit()?"marketmismatch":""}get MarketRequestInputLanguage(){return this.marketRequestInputLanguage}get MarketRequestInputRegion(){return this.marketRequestInputRegion}get MarketRequestInputGeoCountry(){return this.marketRequestInputGeoCountry}get MarketDetectionType(){return this.marketDetectionType}get TelemetryInitOptions(){return this.telemetryInitOptions}get BatchedEvents(){const e=(null==fo?void 0:fo.CurrentFlightSet)||new Set("");return e.has("telbatloadtime")?["LoadTime","LoadTimeDiag"]:e.has("telbaterrors")?["AppError"]:e.has("telbatdiag")?["AppError","ClientLog","LoadTime","LoadTimeDiag","TraceInfo"]:e.has("telbatmost")?["AppError","ClientLog","LoadTime","LoadTimeDiag","TraceInfo","ContentView"]:e.has("telbatcontentvw")?["ContentView"]:e.has("telbatlogs")?["AppError","ClientLog","TraceInfo"]:void 0}get ConfigStaticFallbackBaseUrl(){return`${this.IsChinaCompliance?$:V}/periconfigs/`}findLanguageRegionMismatch(){var e,t,n,i,r,o;if(fo.ClientSettings&&"true"===fo.ClientSettings.static_page)return!1;const s=fo.ClientSettings&&(null===(e=fo.ClientSettings)||void 0===e?void 0:e.market)&&(null===(t=fo.ClientSettings)||void 0===t||null===(t=t.market)||void 0===t?void 0:t.detection),a=fo.ClientSettings&&(null===(n=fo.ClientSettings)||void 0===n?void 0:n.market)&&(null===(i=fo.ClientSettings)||void 0===i||null===(i=i.market)||void 0===i?void 0:i.requestInput),c=we(fo.ClientSettings&&(null===(r=fo.ClientSettings)||void 0===r?void 0:r.locale)&&(null===(o=fo.ClientSettings)||void 0===o||null===(o=o.locale)||void 0===o?void 0:o.content));if(s&&("implicitExisting"===s.type||"implicitNew"===s.type||"cm"===s.type||"implicitReset"===s.type)&&a){if(c){if(a.language.toLowerCase()!==c.language.toLowerCase())return this.marketMismatchDetails.type="language",this.marketMismatchDetails.mismatchItem1=a.language.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.language.toLowerCase(),!0;if(a.region&&a.region.toLowerCase()!==c.market.toLowerCase())return this.marketMismatchDetails.type="region",this.marketMismatchDetails.mismatchItem1=a.region.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.market.toLowerCase(),!0}if("implicitExisting"===s.type&&a.geo_country.toLowerCase()!==s.geo_country.toLowerCase())return this.marketMismatchDetails.type="geo_country",this.marketMismatchDetails.mismatchItem1=a.geo_country.toLowerCase(),this.marketMismatchDetails.mismatchItem2=s.geo_country.toLowerCase(),!0}return!1}get MarketMismatchDetail(){return this.findLanguageRegionMismatch()||this.findLanguageRegionMismatchExplicit()?this.marketMismatchDetails:null}findLanguageRegionMismatchExplicit(){var e,t,n,i,r,o;if(fo.ClientSettings&&"true"===fo.ClientSettings.static_page)return!1;const s=fo.ClientSettings&&(null===(e=fo.ClientSettings)||void 0===e?void 0:e.market)&&(null===(t=fo.ClientSettings)||void 0===t||null===(t=t.market)||void 0===t?void 0:t.detection),a=fo.ClientSettings&&(null===(n=fo.ClientSettings)||void 0===n?void 0:n.market)&&(null===(i=fo.ClientSettings)||void 0===i||null===(i=i.market)||void 0===i?void 0:i.requestInput),c=we(fo.ClientSettings&&(null===(r=fo.ClientSettings)||void 0===r?void 0:r.locale)&&(null===(o=fo.ClientSettings)||void 0===o||null===(o=o.locale)||void 0===o?void 0:o.content));if(s&&"compliance"!==s.type&&"url"!==s.type&&a){if(c){if(a.language.toLowerCase()!==c.language.toLowerCase())return this.marketMismatchDetails.type="language",this.marketMismatchDetails.mismatchItem1=a.language.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.language.toLowerCase(),!0;if(a.region&&a.region.toLowerCase()!==c.market.toLowerCase())return this.marketMismatchDetails.type="region",this.marketMismatchDetails.mismatchItem1=a.region.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.market.toLowerCase(),!0}if(a.geo_country.toLowerCase()!==s.geo_country.toLowerCase())return this.marketMismatchDetails.type="geo_country",this.marketMismatchDetails.mismatchItem1=a.geo_country.toLowerCase(),this.marketMismatchDetails.mismatchItem2=s.geo_country.toLowerCase(),!0}return!1}setConfigOrigin(){const e={feature:vo.Production,loc:vo.Production};return this.IsGitConfigs&&!this.EnableConfigService||(e.feature=vo.Production,e.loc=vo.Production),e}constructor(e,t,n,i,r){this.assetsGlobalUrl="https://assets.msn.com",this.assetsCNUrl="https://assets.msn.cn",this.heroOcids=["widgetonlockscreen","widgetonlockscreenwin10","calendarontaskbar","winp2fpwidgetboard","wind_spot_2","webwidgetonboard","webwidgetonlockscreen"],this.marketMismatchDetails={type:"",mismatchItem1:"",mismatchItem2:""},this.initializeAppEnvironment(e,t,n,i,r)}static getInstance(e=null,t=null,n=null,i=null,r=null){return a.get(Ss,(()=>new Cs(e,t,n,i,r)))}static resetInstance(e=null,t=null,n=null,i=null,r=null){const o=new Cs(e,t,n,i,r);return a.set(Ss,o),Is=J(Cs),Is}get IsHeroNTP(){return this.isHeroNTP}set IsHeroNTP(e){this.isHeroNTP=e}initializeAppEnvironment(e,t,n,i,r){var o,s,a;const l=ne(),u=c()?function(e){if(!c())throw new Error("getDocumentElementById is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementById(e)}("msnewsroot"):null,d=te(),h=ie(),g=re(),p=c()?l.includes("localhost.msn.com"):l.includes("localhost");let f=null;const m=fo&&fo.ClientSettings,v=Lr.getParamsWithItems(g,!0);let w=!1;if(m){this.isCaliforniaRegion=m.geo_subdivision&&"california"==m.geo_subdivision.toLocaleLowerCase(),this.isChinaCompliance=function(e,t){return!!(e.hostname.toLowerCase().endsWith(".cn")||t.isChinaCompliance||t.useCnDomain||e.search.match(/isChinaBuild=true/i)||e.search.match(/item=revip:cn/))}({hostname:l,search:g},m),b=this.isChinaCompliance,Lo=b,this.activityId=this.tryReformatGuid(m.aid),this.currentMarket=this.LocaleContentMarketString||m.apps_locale,this.countryCode=m.geo_country,this.frontDoorMuid=m.fd_muid,this.latitude=m.geo_lat,this.longitude=m.geo_long,this.configRootUrl=m.configRootUrl?new URL("",m.configRootUrl):null,f=Io(m.pcsInfo&&m.pcsInfo.env||"prod"),this.setAccountInfoPromise(),this.appType=m.apptype||"",this.miniAppId=m.miniAppId||"",this.authCookieName=this.getAuthCookieName(),this.useAuthFetch=!1;const{featureFlags:e}=m;this.featureFlags=e,w=e&&"true"===e.disableCachingConfigs,this.enableConfigService=!e||!e.enableConfigService||"true"===e.enableConfigService,this.sendFeedCallActivityIdInHeader=(!e||!e.disableActivityIdInHeader||"true"!==e.disableActivityIdInHeader)&&"hub"===this.appType,this.cacheBustingIdentifier=m.cbid;const{bundleInfo:t,pcsInfo:n}=m||{},i=this.getRunTimePropertyBag(t,n);Gr(i),y=i,Object.assign(bs,y),this.configIndexDocId=m.configIndexDocId,this.widgetAttributes=m.widgetAttributes}var y,b;const S=Io(Lr.getQueryParameterByName("env",d));this.environment=S||f||So.prod,this.envInstanceOverride=Lr.getQueryParameterByName("instance",d);const C=m&&m.servicesEndpoints,I=C&&C.feedService&&C.feedService.domain||h;this.serviceDomainUrl=n||I,this.oneServiceOverride=r,this.staticDomain=new URL(I).host,this.staticAssetsUrl=C&&C.staticConfig&&C.staticConfig.domain||(this.isChinaCompliance?"https://assets.msn.cn":"https://assets.msn.com"),this.staticsUrl=(p?h:this.staticAssetsUrl)+"/staticsb/statics/";const A=null===(o=v.find((e=>"pr"===e.key)))||void 0===o?void 0:o.value,k=A&&`pr-${A}`||"latest";this.staticsUrlWithBuild=this.staticsUrl+k+"/",this.enterpriseServiceDomainUrl=C&&C.enterpriseFeedService&&C.enterpriseFeedService.domain;const{crs:T={}}=C||{},{v:E,domain:P,path:R}=T;this.crsVersion=E,this.crsDomain=P,this.crsPath=R||"/resolver/api/resolve/";const{requestInput:L={},detection:D={}}=m&&m.market||{},{language:N="",region:_="",geo_country:M=""}=L||{},{type:U=""}=D||{};this.marketRequestInputLanguage=N,this.marketRequestInputRegion=_,this.marketRequestInputGeoCountry=M,this.marketDetectionType=U,this.serviceUrlBase=e||u&&u.getAttribute(ue)&&new URL("",u.getAttribute(ue))||new URL("/service/",this.serviceDomainUrl),this.feedServiceUrlBase=this.serviceDomainUrl&&new URL("/service/",this.serviceDomainUrl)||void 0,this.hostPage=Co.getHostPageFromUrl(d),this.isFrePage="1"===Lr.getQueryParameterByName("fre",d),this.userId=this.getUserMuid(),this.rootTelemetryId=u?Number(u.getAttribute("data-telemetry-id")):0;const O=u&&u.getAttribute("data-page-product"),x=u&&u.getAttribute("data-page-type");this.trackInfo={sitePage:{page_product:O,page_type:x}},this.setNavTargetHostName(),this.setTargetScope();const j=this.currentRequestTargetScope&&this.currentRequestTargetScope.pageExperiments||[];this.disableCachingConfigs=w||c()&&j.includes("inlincrscall"),this.crsVersion=function(e,t,n){try{return e&&t&&t.includes("prg-crsfdheadrem")&&"weather"!==n&&"finance"!==n?"v3.1":e}catch(e){}return e}(this.crsVersion||"",j,this.appType||""),this.isGitConfigs=this.useGitConfigs(),this.configOrigins=this.setConfigOrigin(),this.contentServiceUrlBase=this.serviceDomainUrl?new URL("/content/",this.serviceDomainUrl):void 0,this.isMultiConfigRetrievalEnabled=this.useMultiConfigsRetrieval();const F=this.getConfigServiceBaseUrl(this.isMultiConfigRetrievalEnabled,t);this.configServiceBaseUrl=F?new URL("",F):null,this.environmentConfigUrl=this.serviceDomainUrl?new URL("/config/v1/",this.serviceDomainUrl):void 0,this.isDebug=(Lr.getQueryParameterByName("debug",d)||"").toLowerCase()in{1:1,true:1}||(Lr.getQueryParameterByName("item",d)||"").toLowerCase().indexOf("/debug")>0||p,this.oneServiceApiKey=this.getOneServiceApiKey(),this.enableFiveColLayout=!1,i&&(this.hostHeaderOverride=i);const B={appType:this.appType,flights:fo.CurrentFlights,itemOverrides:v},H=g&&(g.includes("vptest=1")||g.includes("reqsrc=vp")),q="edgeChromium"===this.appType&&!c();this.shouldUseFdheadQsp=H||function(e,t=!1){const{itemOverrides:n}=e||{},i=n&&n.find((e=>"should1sUseFdheadQsp"===e.key));if(i&&i.value)return"true"===i.value;if(t)return!1;const r=n&&n.find((e=>"flights"===e.key||"appendflights"===e.key.toLowerCase()));return!!(r&&r.value&&r.value.length>0)}(B,q),this.oneServiceContentMarketQspKey=this.shouldUseFdheadQsp?"market":"cm",this.isHeroNTP=this.heroOcids.includes(null==fo||null===(s=fo.ClientSettings)||void 0===s?void 0:s.ocid)&&"edgeChromium"===this.appType,this.telemetryInitOptions={excludeCsMetaData:null===(a=fo.CurrentFlightSet)||void 0===a?void 0:a.has("telnometadata")}}getOneServiceApiKey(){var e,t;if(this.widgetAttributes&&this.widgetAttributes.feed&&this.widgetAttributes.feed.apiKey)return this.widgetAttributes.feed.apiKey;const n="0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM";let i;switch(this.appType){case"windowsShell":case"windowsShellV2":i="pWw5OmQehOA0XNfgcgrTrwEJZJJJzE83ovtTQx6JRG";break;case"newsAndInterests":case"windowsNewsPlus":case"winWidgets":case"webWidgets":i="AEbyVYqTQAPvg4lWwMSFHaLkDzl3weRKKIDDInLQUj";break;case"edgeChromium":i="1hYoJsIRvPEnSkk0hlnJF2092mHqiz7xFenIFKa9uc";break;case"bingHomepage":case"distribution":i="lenovo"===fo.ClientSettings.pagetype?"OrorOEMX3w4Hsk49OXMM6YayCYQw3OHcpzqiXEk9xd":"edgewelcome"===fo.ClientSettings.pagetype?"oPFhbDSAghltCuG6UvQCcxmngSVye65eXQHHu3voxZ":"QMmdky7jrTlM4mWJmMYQTi71lp678KyZJBKHCAyKCg";break;case"sharedWidgets":i="hFWgtnoLG1BXruRRhEVJo5ACP8414XUG0Ric6JbyND";break;case"gaming":i="play"===(null===(e=this.currentRequestTargetScope)||void 0===e?void 0:e.pageType)?n:"gaming"===(null===(t=this.currentRequestTargetScope)||void 0===t?void 0:t.pageType)?"1hYoJsIRvPEnSkk0hlnJF2092mHqiz7xFenIFKa9uc":"Uj7u7bqBgMhDGBUVPSbcHUe0pU7X8TbVRviCO2fojo";break;case"travel":i="8RwD77wJgNQmmVBdGmZsK6vvPCrG58iRCQRoPsE4JJ";break;case"health":i="FywQv6H345wNCU4yKWraF2esI9qiMQFx90v53mMHrm";break;default:i=n}return i}getUserMuid(){let e;const t=Eo();return Oe(t)&&(e="m-"+t),e}getConfigServiceBaseUrl(e=!0,t=null){const n=function(e,t,n=!1){switch(t){case Do.prod:case Do.prodssr:case Do.staging:return e;default:return n?location.origin||null:ie()||null}}(this.crsDomain||(this.isChinaCompliance?$:V),this.environment),i=this.isGitConfigs?`${this.crsPath}${this.crsVersion||"v3"}/config/`:`${this.crsPath}${e?"v2/":""}configindex/`,r=ie();if(this.crsRetryBaseUrl=r?r+i:null,t)return t+i;if(c()&&(this.renderWidgets()||"sharedWidgets"===this.appType||"bingHomepage"===this.appType||"distribution"===this.appType||"gaming"===this.appType||("sports"===this.appType||"finance"===this.appType||"weather"===this.appType)&&this.widgetAttributes)){const e=(this.crsDomain||"https://www.msn."+(this.IsChinaCompliance?"cn":"com"))+i;return this.crsRetryBaseUrl=e,n?`${n}`+i:e}return n||ie()?(n||ie())+i:null}useMultiConfigsRetrieval(){const e=re();if(e){const t=Lr.getQueryParameterByName("isMultiConfigRetrievalEnabled",e);if(t)return"true"===t.toLocaleLowerCase()}return!this.featureFlags||!this.featureFlags.isMultiConfigRetrievalEnabled||"true"===this.featureFlags.isMultiConfigRetrievalEnabled}useGitConfigs(){const e=re();if(e){const t=Lr.getQueryParameterByName("isGitConfig",e);if(t)return"true"===t.toLocaleLowerCase()}return function(e,t,n){return!(!n||!e||e<"v3"||t)}(this.crsVersion,this.configIndexDocId,this.appType)}renderWidgets(){const e=re();if(e){const t=Lr.getQueryParameterByName("renderWidget",e);if(t)return"true"===t.toLocaleLowerCase()}return!1}getAuthCookieName(){if(this.authCookieName)return this.authCookieName;let e;switch((fo&&fo.ClientSettings).apptype||""){case"windows":e="windowshp"===fo.ClientSettings.pagetype?"anon":"app_anon";break;case"bingHomepage":case"community":case"contentTools":case"finance":case"gaming":case"health":case"homePage":case"hub":case"personalize":case"sharedWidgets":case"shopping":case"sports":case"traffic":case"travel":case"ugc":case"views":case"weather":default:e="anon";break;case"edgeChromium":case"edgeMobile":case"distribution":case"newsAndInterests":case"windowsNewsPlus":case"winWidgets":case"webWidgets":case"windowsShell":case"windowsShellV2":case"office":case"channelmobile":case"superApp":e="app_anon"}return e}setAccountInfoPromise(){this.ResolvedAccountInfo=null,this.AccountInfoPromise=new Promise((e=>{if(!(c()&&window.chrome&&window.chrome.authPrivate&&window.chrome.authPrivate.getPrimaryAccountInfo))return e(null);const t=Math.round(performance.now());window.chrome.authPrivate.getPrimaryAccountInfo((n=>{const i=Math.round(performance.now());return mo()["Auth.GetPrimaryAccountInfo"]=i-t,this.ResolvedAccountInfo=n,e(n)}))})),this.AccountInfoPromise}tryReformatGuid(e){if(e&&32===e.length){const t=e.match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/i);t&&(e=t.slice(1).join("-"))}return e}setTargetScope(){if(!fo||!fo.ClientSettings)return;const e=function(e,t){let n;const i=decodeURIComponent(ko(e,"aace")),{child:r}=i&&Nr(i)||{},o=ko(e,"child");return n=i&&(1===r||o)?"kids":t.audienceMode||"adult",n}(oe(),fo.ClientSettings),{browser:t,deviceFormFactor:n,domain:i,ocid:r,os:o,pagetype:s}=fo.ClientSettings,a=fo.CurrentFlights.split(",");if(this.currentRequestTargetScope={audienceMode:e,browser:t,deviceFormFactor:n,domain:i,locale:{content:this.LocaleContentMarket,display:this.LocaleDisplayLanguage},ocid:r,os:o,platform:"web",pageType:s,pageExperiments:a},!this.currentRequestTargetScope.locale&&Ge.stringHasData(this.LocaleContentMarketString)){const e=this.LocaleContentMarketString.split("-");e.length>1&&(this.currentRequestTargetScope.locale={language:e[0],market:e[e.length-1],content:{language:e[0],market:e[e.length-1]},display:{language:e[0],market:e[e.length-1]}})}}setNavTargetHostName(){let{subDomain:e,domainName:t,topLevelDomain:n}={subDomain:wo.WWW,domainName:yo.MSN,topLevelDomain:bo.COM};const i="homePage"!==this.appType&&fo&&fo.CurrentFlightSet&&fo.CurrentFlightSet.has("1s-viewurldomain");switch(this.environment){case So.prod:case So.staging:e=i?wo.MicrosoftStart:wo.WWW;break;case So.int1:e=i?wo.MicrosoftStartINT1:wo.INT1;break;case So.int:case So.intpr:case So.intperf:e=i?wo.MicrosoftStartINT:wo.INT}this.isChinaCompliance&&(n=bo.CN),this.navTargetHost=`${e}.${t}.${n}`}getRunTimePropertyBag(e,t){const n={appType:this.appType};t&&(n.pcsVersion=t.v,n.pcsEnv=t.env);const{alias:i,v:r}=e||{};this.buildVersion=r||"",n.build=this.buildVersion,i&&(n.buildAlias=i);const o=fo.CurrentFlights;return o&&(n.shouldDelayUntilLoadTime="edgeChromium"===this.appType&&fo.IsPrerender,n.shouldSupressWarnings=o.includes("warningsremoved"),n.shouldSampleErrorsForTreatement1=o.includes("apperror1")||o.includes("errorsamplingb"),n.shouldSampleErrorsForTreatement2=o.includes("errorsamplingc")),n}getStaticUrls(e){return{com:`${this.assetsGlobalUrl}/staticsb/statics/${e}`,cn:`${this.assetsCNUrl}/staticsb/statics/${e}`}}}let Is=J(Cs);const As="1.0.21";let ks,Ts,Es;(new Date).getTime();try{Ts="sessionStorage"in window&&window.sessionStorage}catch(e){}try{navigator&&navigator.userAgentData&&"Windows"===navigator.userAgentData.platform&&navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues(["platformVersion"])&&navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then((e=>{Es=e.platformVersion}))}catch(e){}function Ps(e){if(e)return e.scrollTop||0;return Ls&&(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop)||0}function Rs(){const e="undefined"!=typeof document&&document.cookie;if(!Ls&&!e)return"";const t=new RegExp("\\bMUID\\s*=\\s*([^;]*)","i").exec(e);return t&&t.length>1?t[1]:""}const Ls=!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv);function Ds(){let e=!1;if(Ls)try{if(Es&&parseInt(Es.split(".")[0])>=11&&(e=!0),!e&&window&&window.external&&window.external.getHostEnvironmentValue("os-build")){const t=JSON.parse(window.external.getHostEnvironmentValue("os-build"))["os-build"].split(".");(t[0]>10||10===t[0]&&t[1]>0||t[2]>=22e3)&&(e=!0)}}catch(e){}return ks=!0===e||null,ks}const Ns="1.0.21";var _s;!function(e){e.JSON="application/json;charset=UTF-8",e.HTML="text/html;charset=UTF-8"}(_s=_s||(_s={}));function Ms(){const e=performance.getEntriesByType("navigation")[0].serverTiming;if(e){const t=e.find((e=>"rsClusterName"===e.name));if(t)return t.description}}var Us;let Os;const xs=JSON.parse((null===(Us=document.head.dataset)||void 0===Us?void 0:Us.clientSettings)||"{}");let js={};function Fs(e){js=e}let Bs,Hs=()=>"";function qs(e){js.integration={...js.integration,joinIds:JSON.stringify(e)}}function Ws(e,t,n){var i,r,o,s,a;const c=_()||Rs(),l=js||{},u=n||{};let d=l.custom;if(d)try{d=JSON.parse(d)}catch(e){}const h=fo&&fo.Diagnostics||{},{mc:g={}}=h||{},{geo_citycf:p,geo_countrycf:f,requestTrailInfo:m,travelInfo:v,detection:w}=xs||{},{cdn:y=null}=m||{},{cnex:b=null}=v||{},{ip:S}=w||{},C=function(e,t){let n;switch(e){case"explicit":{const e="homePage"===Is.AppType;n={cookieSource:e?"marketPref":"ntps",cookieValue:e?t&&t.marketPref:t&&t.ntps};break}case"implicitNew":case"implicitExisting":case"implicitReset":{const e=decodeURI(null==t?void 0:t.spt)||"",[i,r]=function(e){if(!e)return["",""];const t=e.split("|");return[t[2]||"",t[7]||""]}(e);n={cookieSource:"sptmarket",cookieValue:e,mktgeoCountryCode:i,mktgeoCountryCodeCf:r};break}}return n}(Is.MarketDetectionType,g);return{name:e,time:t.toISOString(),ver:"4.0",iKey:`o:${null===(i=window.oneDSConfig)||void 0===i||null===(i=i.key)||void 0===i?void 0:i.split("-")[0]}`,data:{...l,baseType:"MS.News.Web.Base",baseData:{},page:{...l.page,canvas:"Browser",appType:xs.apptype,content:{...null===(r=l.page)||void 0===r?void 0:r.content,title:document.title},config:Bs??(null===(o=l.page)||void 0===o?void 0:o.config)},flight:{tmpl:`ssr-enabled:1;${window._sugi?"sugi:1;":""}edge.mem:${navigator.deviceMemory+""};edge.concurrency:${navigator.hardwareConcurrency+""};edge.connection:${(null===(s=navigator.connection)||void 0===s?void 0:s.effectiveType)+""};${Hs()}`},browser:{width:window.outerWidth,height:window.outerHeight,screenSize:[screen.width,screen.height].join("x"),clientId:c,scrollOffset:Ps(),anoncknm:"app_anon",cookieEnabled:navigator.cookieEnabled,isWin11:Ds(),muid:c},request:{activityId:xs.aid,requestId:Os||xs.aid,afdMuid:xs.fd_muid,tier:xs&&xs.detection&&xs.detection.tier?xs.detection.tier:""},timestamp:t.getTime(),sdk:{name:"peregrine-lite-telemetry",ver:Ns,schemaVer:As},build:null===(a=xs.bundleInfo)||void 0===a?void 0:a.v,custom:{...d,...u,"rs-cluster-name":Ms(),"ssr-enabled":1},debug:{cetoId:Is.ActivityIdLowerCaseNoHypens||void 0,cdn:y,geoCityCf:p,geoCountryCf:f,langMismatch:Is.MarketMismatchDetail||void 0,detectedDetails:C||void 0,hasTravelerException:b,detectedIP:S||void 0}},ext:{user:{localId:`t:${c}`}}}}const Vs="sign-in-active",$s="sign-in-pending",zs="sign-in-refreshed-page",Gs="sign-in-refresh-session";var Ks,Js;!function(e){e.Lax="lax",e.Strict="strict",e.None="none"}(Ks||(Ks={})),function(e){e.High="High",e.Medium="Medium",e.Low="Low"}(Js||(Js={}));const Qs="ntp.user_nurturing",Ys="user_muid",Zs=6,Xs=0,ea=new Date("2010-01-01Z"),ta=192,na=16383,ia=240,ra=192,oa=63,sa="MUID";let aa=!1,ca=[];function la(){const e=ea,t=new Date;let n=-1;return(t.getDay()!=e.getDay()||t.getMonth()!=e.getMonth()||t.getFullYear()!=e.getFullYear())&&(n=Math.floor(Math.abs(t.getTime()-e.getTime())/864e5),n>na)?0:n}function ua(e){let t=!0;if(32!=(null==e?void 0:e.length))return{isMuidValid:!1};const n=new Uint8Array(function(e){const t=[],n=[6,4,2,0,10,8,14,12,16,18,20,22,24,26,28,30];for(const i of n){const n=e.slice(i,i+2);t.push(parseInt(n,16))}return new Uint8Array(t)}(e));if(n.forEach((e=>{isNaN(e)&&(t=!1)})),!t)return{isMuidValid:!1};if(function(e){[e[0],e[3]]=[e[3],e[0]],[e[1],e[2]]=[e[2],e[1]],[e[4],e[5]]=[e[5],e[4]],[e[6],e[7]]=[e[7],e[6]]}(n),0!=(n[0]&ta))return{isMuidValid:!1};if((n[6]&ia)!=Zs<<4)return{isMuidValid:!1};if((n[8]&ra)!=Xs<<6)return{isMuidValid:!1};const i=new Uint8Array(n);!function(e){!function(e){const t=e.length>>1;for(let n=0;n<t;n++)e[n+t]^=e[n]}(e)}(i);const r=function(e){const t=new Uint8Array([0]);for(let n=0;n<e.length-1;n++)t[0]+=e[n];return t[0]}(i);if(r!=i[15])return{isMuidValid:!1};let o=0;o|=(i[10]&oa)<<8,o|=i[11];la();return o>la()+1?{isMuidValid:!1}:{dateCreated:o,isMuidValid:t}}function da(e,t){const n=new Date;n.setTime(n.getTime()+31536e6);return`MUID=${e};expires=${n.toUTCString()};domain=${t};path=/;SameSite=${Ks.None};Secure;priority=${Js.High};`}async function ha(e="",t=pa,n=ga,i=sa){const r=Date.now();window.muidActionRecord={isMuidReverted:!1,muidRevertedFrom:"",signInPerfCost:0,perfCost:0,isRefreshMuidError:!1};try{if("psl"===e&&await Promise.race([new Promise((e=>{var t;null!==(t=window)&&void 0!==t&&null!==(t=t.chrome)&&void 0!==t&&null!==(t=t.authPrivate)&&void 0!==t&&t.getPrimaryAccountInfo?window.chrome.authPrivate.getPrimaryAccountInfo((t=>{e(!t||""===t.account_id)})):e(!0)})),new Promise((e=>{setTimeout((()=>{e(!0)}),50)}))]))return;window.muidActionRecord.signInPerfCost=Date.now()-r;const o=Eo()||"",s=await t(i,(e=>{var t;return e&&(null===(t=ua(e))||void 0===t?void 0:t.isMuidValid)}),e);s!==o&&function(e,t,n,i){if(e){const r=window.location.hostname.toLowerCase().endsWith(".cn")?".msn.cn":".msn.com",{isMuidValid:o,dateCreated:s}=ua(e),{isMuidValid:a,dateCreated:c}=ua(t);if(!o&&a)return void n(i,t);if(o&&!a)return window.document.cookie=da(e,r),window.muidActionRecord.isMuidReverted=!0,void(window.muidActionRecord.muidRevertedFrom=t);if(void 0!==s&&void 0!==c)s<=c?(window.document.cookie=da(e,r),window.muidActionRecord.isMuidReverted=!0,window.muidActionRecord.muidRevertedFrom=t):n(i,t)}else n(i,t)}(s,o,n,i),window.muidActionRecord.perfCost=Date.now()-r}catch(e){window.muidActionRecord.isRefreshMuidError=!0}}const ga=(e,t)=>{window.localStorage.setItem(e,t),aa&&function(e,t,n){const i=e.findIndex((e=>(null==e?void 0:e.key)===t));if(i>-1)e[i]={...e[i],value:n};else{const i={key:t,value:n};e.push(i)}window.chrome.ntpSettingsPrivate.setPref(Qs,e)}(ca,Ys,t)},pa=async(e,t,n)=>{var i;aa=!(null===(i=window.chrome)||void 0===i||null===(i=i.ntpSettingsPrivate)||void 0===i||!i.getPref)&&"psl"===n;let r=window.localStorage.getItem(e)||"";if(!r&&aa){ca=await function(e){return new Promise(((t,n)=>{window.chrome.ntpSettingsPrivate.getPref(e,(function(e){e&&e.value?t(e.value):t([])}))}))}(Qs);const e=(ca||[]).find((e=>e.key===Ys));r=(null==e?void 0:e.value)||""}return r};let fa;const ma="data-t";let va=e=>{try{const t=function(){var e,t;if(null===(e=window.oneDSConfig)||void 0===e||!e.endpoint)throw new Error("1DS endpoint not found");const n=new URL(window.oneDSConfig.endpoint);return n.searchParams.append("cors","true"),n.searchParams.append("content-type","application/x-json-stream"),n.searchParams.append("client-id","NO_AUTH"),n.searchParams.append("client-version",`peregrine-lite-telemetry-${null===(t=xs.bundleInfo)||void 0===t?void 0:t.v}`),window.oneDSConfig.key&&n.searchParams.append("apikey",window.oneDSConfig.key),n.searchParams.append("upload-time",Date.now().toString()),n.searchParams.append("w","0"),n.searchParams.append("anoncknm","app_anon"),n.searchParams.append("NoResponseBody","true"),n}();navigator.sendBeacon(t,JSON.stringify(e))}catch(e){B("Error sending Lite Telemetry",34019,{error:e.message})}};let wa=!0,ya=!0;async function ba(e,t){if(ya&&Aa())return;"none"!==t&&await ha(t),window.__peregrine_litePVSent=!0;const n=Ws("MS.News.Web.PageView",new Date,e),i=()=>{mo().TimeToSendPageView=Math.round(performance.now()),va(n)};wa?(fa||(fa=new Promise((e=>{"visible"===document.visibilityState&&e(),document.addEventListener("visibilitychange",(function t(){"visible"===document.visibilityState&&(e(),document.removeEventListener("visibilitychange",t))}))}))),fa).then(i):i()}const Sa=e=>{const t=[];let n=e;for(;n&&n!==document.body;)t.unshift(`${n.tagName.toLowerCase()}${n.id?"#"+n.id:""}${n.className?"."+n.className.replace(/\s+/g,"."):""}`),n=Pa(n);return t.join(" > ")};function Ca(e,t){if(e)try{const n=Ws("MS.News.Web.PageAction",new Date);n.data.actionType=t,["click","rightclick"].includes(t)&&(n.data.gesture=t);const i=Ea(e);if(i){if("search_websearch"===i.n)return;if("submit"!==t&&["headersearch","searchinput"].includes(i.n))return;n.data.behavior=i.b,n.data.object={name:i.n,type:i.t,content:{id:i["c.i"],type:i["c.t"],headline:i["c.hl"],vertical:i["c.v"],brandId:i["c.bi"],category:i["c.c"]},ext:i.ext,destinationUrl:e.getAttribute("action")||e.getAttribute("destination-url")||e.href||""};let r=i.n||"",o=Pa(e);for(;o&&o!==document.body;){const e=Ea(o);null!=e&&e.n&&(r=`${e.n}>${r}`),o=Pa(o)}n.data.object.placement={lineage:r},r||B("Empty lineage in Lite Action Telemetry",34020,{elementPath:Sa(e),elementType:null==e?void 0:e.tagName,actionType:t})}else if("click"===t)return;va(n)}catch(n){B("Error sending Lite Action Telemetry",34019,{error:n.message,stack:n.stack,elementPath:Sa(e),elementType:null==e?void 0:e.tagName,actionType:t})}}function Ia(e,t=!1){try{if("auxclick"===e.type&&1!==e.button)return;const n=ka(e),i=n&&function(e){const t=20;for(let i=0;i<t&&e&&!Ta(e);i++){var n;e=e.assignedSlot||e.parentElement||(null===(n=e.parentNode)||void 0===n?void 0:n.host)}if(!Ta(e))return;return e}(n);if(i){const n=e.type;Ca(i,Ra[n]||"click"),t&&e.preventDefault()}}catch(t){var n;let i;try{i=ka(e)}catch(e){}B("Error sending Click Event Telemetry",34019,{error:t.message,stack:t.stack,type:e.type,button:e.button,elementPath:i&&Sa(i),elementType:null===(n=i)||void 0===n?void 0:n.tagName})}}function Aa(){try{return sessionStorage.getItem(Vs)||sessionStorage.getItem($s)||sessionStorage.getItem(zs)||sessionStorage.getItem(Gs)}catch(e){return!1}}function ka(e){if(e){if(!e.composedPath||"function"!=typeof e.composedPath)return e.target;{const t=e.composedPath();if(t.length>2&&"hasAttribute"in t[0]&&!t[0].hasAttribute(ma)&&"[object ShadowRoot]"===Object.prototype.toString.call(t[1])&&"hasAttribute"in t[2]&&t[2].hasAttribute(ma))return t[2];if(t.length>0)return t[0]}}}function Ta(e){var t;if(!e)return!1;if("BUTTON"===e.nodeName||null!==(t=e.hasAttribute)&&void 0!==t&&t.call(e,"href")||e.getAttribute&&"button"===e.getAttribute("role")||e.form)return!0;const n=Ea(e);return n&&(5===n.t||11===n.t||n.b&&e.tagName.includes("-"))}function Ea(e){try{const t=e.getAttribute(ma);return t&&JSON.parse(t)}catch(e){B("Error parsing telemetry attribute",34019,{error:e.message})}}function Pa(e){var t;return e.assignedSlot||e.parentElement||(null===(t=e.parentNode)||void 0===t?void 0:t.host)}const Ra={auxclick:"middleclick",contextmenu:"rightclick"};let La=(new Date).getTime();const Da=e=>{const t=(La+16*Math.random())%16|0;return La=Math.floor(La/16),("x"===e?t:7&t|8).toString(16)},Na=()=>"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,Da),_a=()=>{const e=performance.getEntriesByType("navigation");if(!e||!e.length)return!1;const t=e[0]&&e[0].serverTiming;return!(!t||!t.length)&&!!t.find((e=>e&&"cache"===e.name))};const Ma=e=>{Ia(e)},Ua=e=>{e.target&&Ca(e.target,"submit")};class Oa{constructor(e=-1){this._published=[],this._subscribers=[],this.maxSize=e}publish(e){this.maxSize>0&&this._published.length>=this.maxSize&&this._published.shift(),this._published.push(e),this._subscribers.forEach((t=>t(e)))}subscribe(e){return this._subscribers.push(e),this._published.forEach((t=>e(t))),{dispose:()=>{this._subscribers=this._subscribers.filter((t=>t!==e))}}}bulkPublish(e){e.forEach((e=>this.publish(e)))}}function xa(e){const t=performance.getEntriesByType("visibility-state").filter((t=>t.startTime<e));if(0===t.length)return e;let n=0;for(let r=0;r<t.length;r++){const o=t[r];var i;if("visible"===o.name)n+=((null===(i=t[r+1])||void 0===i?void 0:i.startTime)??e)-o.startTime}return n}const ja=["vendors","microsoft","common","experience"];function Fa(){window.markTTSR=(e,t)=>{window._pageTimings[`${e}-Init`]=t||Math.round(performance.now()),requestAnimationFrame((()=>{window._pageTimings[`${e}-RAF`]=xa(Math.round(performance.now())),setTimeout((()=>{var t;window._pageTimings[e]=xa(Math.round(performance.now())),"TTSR.Complete"==e&&(t=10,Math.floor(101*Math.random())<=t)&&function(){var e;const t=null===(e=window)||void 0===e||null===(e=e.performance)||void 0===e?void 0:e.getEntriesByType("long-animation-frame");if(!t)return;window._longAnimationFrames=[],t.forEach((e=>{const t=e;t.scripts&&t.scripts.length>0&&t.scripts.forEach((e=>{for(let n=0;n<ja.length;n++)if(e.sourceURL.includes(ja[n])){window._longAnimationFrames.push({sourceURL:e.sourceURL,blockingDuration:t.blockingDuration});break}}))}))}()}))}))}}var Ba;!function(e){e.visibility="visibility",e.adServed="adserved",e.click="click"}(Ba||(Ba={}));const Ha=["control icon-only","menu","ad-label","ad-choice"],qa="cs-personalized-feed";function Wa(){const e=null===(t=document.querySelector("edge-chromium-page"))||void 0===t||null===(t=t.shadowRoot)||void 0===t||null===(t=t.querySelector("grid-view-feed"))||void 0===t||null===(t=t.shadowRoot)||void 0===t||null===(t=t.querySelector("cs-super-container"))||void 0===t||null===(t=t.shadowRoot)||void 0===t||null===(t=t.querySelector(qa))||void 0===t||null===(t=t.shadowRoot)||void 0===t?void 0:t.querySelector("cs-feed-layout");var t,n;return e||(null===(n=document.querySelector("edge-chromium-page"))||void 0===n||null===(n=n.shadowRoot)||void 0===n||null===(n=n.querySelector("waterfall-view-feed"))||void 0===n||null===(n=n.shadowRoot)||void 0===n||null===(n=n.querySelector("cs-super-container"))||void 0===n||null===(n=n.shadowRoot)||void 0===n?void 0:n.querySelector("cs-responsive-feed-layout"))}function Va(e,t){var n;return(null==e||null===(n=e.shadowRoot)||void 0===n?void 0:n.querySelectorAll(t))||[]}function $a(e,t,n,i){var r;if(!i)return null===(r=e[n])||void 0===r||null===(r=r.shadowRoot)||void 0===r?void 0:r.querySelector(`#${t}`);for(let n=0;n<(null==e?void 0:e.length);n++){var o,s,a,c,l;if("cs-native-ad-card"===(null===(o=e[n])||void 0===o?void 0:o.localName)||"cs-native-ad-card-bi"===(null===(s=e[n])||void 0===s?void 0:s.localName)||"cs-native-ad-card-with-cta"===(null===(a=e[n])||void 0===a?void 0:a.localName)||"cs-native-ad-card-va-phase2"===(null===(c=e[n])||void 0===c?void 0:c.localName)||"cs-native-ad-card-default"===(null===(l=e[n])||void 0===l?void 0:l.localName)){var u;const i=null===(u=e[n])||void 0===u||null===(u=u.shadowRoot)||void 0===u||null===(u=u.querySelector("cs-card"))||void 0===u||null===(u=u.querySelector("cs-content-card"))||void 0===u?void 0:u.getAttribute("data-t");if(i&&i.includes(t))return e[n]}else{var d;const i=null===(d=e[n])||void 0===d?void 0:d.getAttribute("data-t");if(i&&i.includes(t))return e[n]}}}function za(){var e;if(!window.isSSRCompleted)return;const t=Wa(),n=!(null===(i=document.querySelector("edge-chromium-page"))||void 0===i||null===(i=i.shadowRoot)||void 0===i||!i.querySelector("waterfall-view-feed"));var i;const r=function(e){var t;if("CS-RESPONSIVE-FEED-LAYOUT"===(null==e?void 0:e.tagName)){const t=[];let n=Va(e,"cs-native-ad-card, cs-native-ad-card-bi, cs-native-ad-card-with-cta, cs-native-ad-card-va-phase2, cs-native-ad-card-default");return n.length>0?n:(n=Va(e,"cs-responsive-card"),n.forEach((e=>{var n;null!=e&&null!==(n=e.id)&&void 0!==n&&n.startsWith("nativead")&&t.push(e)})),t)}return(null==e||null===(t=e.shadowRoot)||void 0===t?void 0:t.querySelectorAll("cs-native-ad-card, cs-native-ad-card-bi, cs-native-ad-card-with-cta, cs-native-ad-card-va-phase2, cs-native-ad-card-default"))||[]}(t);null===(e=window.ssrAdData)||void 0===e||e.forEach(((e,i)=>{Ka(e.beaconsJson,Ba.adServed);let o=$a(r,e.id,i,n);if(!o){var s,a,c,l;if(n)o=0==i?null==t||null===(s=t.shadowRoot)||void 0===s?void 0:s.querySelector("#nativead-river-2"):null==t||null===(a=t.shadowRoot)||void 0===a?void 0:a.querySelector("#nativead-river-1");else o=0==i?null==t||null===(c=t.shadowRoot)||void 0===c?void 0:c.querySelector("#nativead-river-1"):null==t||null===(l=t.shadowRoot)||void 0===l?void 0:l.querySelector("#nativead-resriver-1");if(!o){const t=function(e){const t=[];var n,i;return e?null===(n=document.querySelector("edge-chromium-page"))||void 0===n||null===(n=n.shadowRoot)||void 0===n||null===(n=n.querySelector("waterfall-view-feed"))||void 0===n||null===(n=n.shadowRoot)||void 0===n||null===(n=n.querySelectorAll("cs-super-container"))||void 0===n||n.forEach((e=>{var n;null===(n=e.shadowRoot)||void 0===n||null===(n=n.querySelectorAll("cs-responsive-feed-layout"))||void 0===n||n.forEach((e=>{let n=Va(e,"cs-native-ad-card, cs-native-ad-card-with-cta, cs-native-ad-card-va-phase2, cs-native-ad-card-default");var i,r;n.length>0?null===(i=n)||void 0===i||i.forEach((e=>{t.push(e)})):(n=Va(e,"cs-responsive-card"),null===(r=n)||void 0===r||r.forEach((e=>{var n;null!=e&&null!==(n=e.id)&&void 0!==n&&n.startsWith("nativead")&&t.push(e)})))}))})):null===(i=document.querySelector("edge-chromium-page"))||void 0===i||null===(i=i.shadowRoot)||void 0===i||null===(i=i.querySelector("grid-view-feed"))||void 0===i||null===(i=i.shadowRoot)||void 0===i||null===(i=i.querySelectorAll("cs-super-container"))||void 0===i||i.forEach((e=>{var n;null===(n=e.shadowRoot)||void 0===n||null===(n=n.querySelectorAll(qa))||void 0===n||n.forEach((e=>{var n;null===(n=e.shadowRoot)||void 0===n||null===(n=n.querySelectorAll("cs-feed-layout"))||void 0===n||n.forEach((e=>{var n;null===(n=e.shadowRoot)||void 0===n||null===(n=n.querySelectorAll("cs-native-ad-card, cs-native-ad-card-with-cta, cs-native-ad-card-va-phase2, cs-native-ad-card-default"))||void 0===n||n.forEach((e=>{t.push(e)}))}))}))})),t}(n);o=$a(t,e.id,i,n)}if(!o){var u,d,h,g;if(window.customSectionRows)return;const o=(null==t||null===(u=t.shadowRoot)||void 0===u||null===(u=u.children)||void 0===u?void 0:u.length)||0,s=[];for(let e=0;e<o;e++){var p;s.push(null==t||null===(p=t.shadowRoot)||void 0===p||null===(p=p.children)||void 0===p||null===(p=p.item(e))||void 0===p?void 0:p.tagName)}const a=n?(null===(d=r[i])||void 0===d||null===(d=d.shadowRoot)||void 0===d||null===(d=d.querySelector("cs-responsive-card"))||void 0===d?void 0:d.outerHTML)||(null===(h=r[i])||void 0===h||null===(h=h.shadowRoot)||void 0===h||null===(h=h.querySelector("cs-card"))||void 0===h?void 0:h.outerHTML)||"":(null===(g=r[i])||void 0===g||null===(g=g.shadowRoot)||void 0===g||null===(g=g.querySelector("cs-card"))||void 0===g?void 0:g.outerHTML)||"";return void B("Ad render doesn't match ssr ad data",20193,{renderedCardTags:JSON.stringify(s),adDataId:e.id,renderedId:JSON.stringify(a)})}}window.adsListened?window.adsListened.push(o.id):window.adsListened=[o.id],o.addEventListener("click",(t=>{const n=t.composedPath();for(let e=0;e<7&&e<n.length;e++){const t=n[e];if(t.className&&Ha.includes(t.className.replace(/\s/g,"")))return}Ka(e.beaconsJson,Ba.click,e.clickBeaconJson)}));new IntersectionObserver(Ga(e.beaconsJson),{root:null,rootMargin:"0px",threshold:.5}).observe(o)}))}const Ga=e=>(t,n)=>{t&&t.forEach((t=>{t.intersectionRatio>=.5&&window.setTimeout((()=>{Ka(e,Ba.visibility)}),1e3,n,t.target)}))};function Ka(e,t,n){var i;if(null!=e&&e.length)try{const s=JSON.parse(e);let a;switch(t){case Ba.adServed:a=s&&s.trb;break;case Ba.visibility:a=s&&s.tvb;break;case Ba.click:a=n&&(null===(i=JSON.parse(n))||void 0===i?void 0:i.tcb)}for(let e=0;e<a.length;e++){var r,o;const n=a[e];t===Ba.visibility&&null!==(r=window.viewedBeaconUrls)&&void 0!==r&&r.includes(n)||t===Ba.adServed&&null!==(o=window.servedBeaconUrls)&&void 0!==o&&o.includes(n)||Ja(n,t,s.e)}}catch(t){B(`Fail to fire ad served call, Fail to parse beacon json tracking data: ${e}`,20179,{error:t.message})}}function Ja(e,t,n){n||(e=decodeURIComponent(e)),e&&function(e,t){try{let t=new Image(1,1);t.src=e,t=null}catch(t){B(`Invalid beacon URL, Fail to parse beacon json tracking data: ${e}`,20189,{error:t.message})}finally{t===Ba.visibility?window.viewedBeaconUrls?window.viewedBeaconUrls.push(e):window.viewedBeaconUrls=[e]:t==Ba.adServed&&(window.servedBeaconUrls?window.servedBeaconUrls.push(e):window.servedBeaconUrls=[e])}}(e,t)}performance.mark("ssrExt"),(()=>{const e=location.search.toLowerCase().indexOf("ssronly=true")>-1;if(e&&(window.SSRONLY=e),window.isSSREnabled){history.scrollRestoration="manual",window.setLiteTelemetryContract=Fs,window.sendLitePV=ba,window.standbyClickEventsHandler=Ma,window.addEventListener("click",window.standbyClickEventsHandler),window.addEventListener("auxclick",window.standbyClickEventsHandler),window.addEventListener("contextmenu",window.standbyClickEventsHandler),window.searchFormSubmitListener=Ua,window.sendAdBeacon=za,window.ssrLoadedExperience=new Oa,window.ssrLoadedBundles=new Oa,window.publishLoadedBundles=window.ssrLoadedExperience.bulkPublish.bind(window.ssrLoadedExperience),window.updateIdxId=qs,Fa();try{let e="X";const n=_a();n&&(e=Na(),window.updatedRequestId=e,t=e.toUpperCase(),Os=t);const i=document.head.dataset&&document.head.dataset.clientSettings||"{}",r=JSON.parse(i),o=r.aid||"X";window.swFeatTmplContents={aid:o,newRid:e,responseCached:Number(n)};const s=r.requestMuid;Hs=()=>`sw-rid-log:${o}|${e}|${Number(n)};requestMuid:${s};`}catch(e){B("Exception occurred while running the RID swap logic in the edgeNext SSR-extension",34031,{error:e.message})}var t;window.addEventListener("TTSR.SearchBox",(()=>{try{const e=window._sugi?document.querySelector("cs-ntp").shadowRoot.querySelector("cs-searchbox").shadowRoot.querySelector("form"):document.querySelector("edge-chromium-page").shadowRoot.querySelector("cs-header-core").shadowRoot.querySelector("common-search-box-edgenext").shadowRoot.querySelector("cs-common-search-box").shadowRoot.querySelector("form");if(!e)throw"Search box form element not found";e.addEventListener("submit",window.searchFormSubmitListener)}catch(e){B("Exception occurred while adding search box form submit event listener",34018,{error:e.message})}}),{once:!0}),window.addEventListener("TTSR.HeaderTag",(e=>{try{const e=["common-settings-edgenext"],t=(e,t)=>{var n;return null===(n=document.getElementsByTagName(e)[0])||void 0===n||null===(n=n.shadowRoot)||void 0===n?void 0:n.querySelector(t).shadowRoot},n=t("edge-chromium-page","cs-header-core")||t("ruby-page","cs-ruby-header-core");for(const t of e){const e=n.querySelector(t);e&&(e.removeAttribute("needs-hydration"),e.setAttribute("needs-recreation",""))}}catch(e){B("SSR header components not found",20203,{error:e.message})}})),window.addEventListener("TTSR.TopSitesTag",(()=>{var e,t;const n=(null===(e=document.getElementsByTagName("edge-chromium-page")[0])||void 0===e?void 0:e.shadowRoot.querySelector("top-sites-edgenext"))||(null===(t=document.getElementsByTagName("ruby-page")[0])||void 0===t?void 0:t.shadowRoot.querySelector("top-sites-edgenext"));if(!n)return;let i;n.removeAttribute("needs-hydration"),n.setAttribute("needs-recreation","");try{i=JSON.parse(localStorage["TSNP1.topsites"])}catch(e){return}const r=n.shadowRoot,o=null==r?void 0:r.querySelectorAll("div.pill-top-site:not(.add-placeholder)");if((null==o?void 0:o.length)>0){const e=Math.min(o.length,i.length);for(let t=0;t<e;t++){const e=i[t],n=o[t];e.contentViewTelemetryTag&&n.setAttribute("data-t",e.contentViewTelemetryTag),n.setAttribute("title",e.title),n.setAttribute("aria-label",e.title),n.querySelector(".image img").setAttribute("src",e.faviconUrl);const r=n.querySelector("a.control");r.setAttribute("href",e.url),e.anchorTelemetryTag?r.setAttribute("data-t",e.anchorTelemetryTag):B("No anchorTelemetryTag",34021,{error:`contentViewTelemetryTag is ${n.getAttribute("data-t")}`}),n.querySelector("a.control .top-site-title span").innerText=e.title}if(o.length>i.length)for(let t=e;t<o.length;t++)o[t].remove();window.markTTSR("TTSR.TopSitesEdgeNextWC")}else;}),{once:!0}),window.addEventListener("TTSR.WelcomeGreetingLight",(()=>{try{const e=document.getElementsByTagName("edge-chromium-page")[0].shadowRoot,t=e.querySelector("cs-header-core").shadowRoot.querySelector("#WGPlaceHolder");if(t){const n=e.querySelector("#WelcomeGreetingHidden");t.replaceWith(n.querySelector("welcome-greeting-light")),n.remove()}}catch(e){B("SSR WelcomeGreetingLight components not found",34032,{error:e.message})}})),window.isResized=!1,window.addEventListener("resize",(()=>window.isResized=!0),{once:!0}),window._sugi&&(window.document.addEventListener("DOMContentLoaded",(()=>{if(!window.isSSRCompleted){const e=new URL(window.location.href);e.searchParams.append("csronly","true"),window.location.href=e.toString()}}),{once:!0}),window._sugiRenderedComponents=new Oa)}})(),performance.measure("ssrExt","ssrExt")}();